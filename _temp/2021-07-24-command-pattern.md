---
title: 커맨드 패턴 (Command Pattern)
author: keencho
date: 2021-07-24 20:12:00 +0900
categories: [Design Pattern]
tags: [Design Pattern, Java]
---

# **커맨드 패턴**
커맨드 패턴은 `실행될 기능을 객체의 형태로 캡슐화` 함으로써 여러 기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴 입니다. 이 패턴은 어떤 이벤트가 발생했을 때 실행될 기능이 다양하면서 여러가지 변경이 필요한 경우에
이벤트를 발생시키는 클래스를 변경하지 않고 재사용 할 때 유용합니다.

<br/>
## **구조**
![structure](/assets/img/custom/design-pattern/command/structure.png)

1. 호출자는 요청을 시작하는 역할을 합니다. 이 클래스에는 명령 객체를 참조하는 필드가 있어야 합니다. 호출자는 요청을 수신자에게 직접 보내는 대신 해당 명령을 트리거합니다.
2. 커맨드 인터페이스는 대체로 명령을 실행하기 위한 단일 메소드만 선언합니다.
3. 커맨드 터페이스의 구현 클래스는 다양한 종류의 요청들을 상속합니다. 구현 클래스는 자체적으로 작업을 수행하는 것이 아니라 비즈니스 로직 객체중 하나로 이러한 명령을 전달해야 합니다.
4. 명령을 전달받는 수신 클래스에는 비즈니스 로직을 포함하고 있습니다. 거의 모든 객체가 수신자처럼 동작될 수 있습니다.
5. 클라이언트 코드는 구체적인 명령 객체를 만들고 구성합니다. 클라이언트는 커맨드 인터페이스의 생성자에 수신 클래스의 인스턴스를 포함한 모든 요청 파라미터를 전달해야 합니다.

<br/>
## **적용 가능한 경우**
1. 어떤 작업과 함께 객체를 파라미터화 하려는 경우 커맨드 패턴을 사용할 수 있습니다.
  - 커맨드 패턴은 특정 메소드 호출을 독립 실행형 객체로 변환할 수 있습니다.
2. 큐에 작업을 넣거나 작업을 스케쥴링, 혹은 작업을 원격으로 실행하고자 한 경우 커맨드 패턴을 사용할 수 있습니다.
3. 롤백 가능한 작업을 구현하고자 하는 경우 커맨트 패턴을 사용할 수 있습니다.

<br/>
## **장단점**
#### **장점**
1. 어떤 작업을 수행하는 클래스에서 작업을 수행하는 부분만 분리할 수 있기 때문에 `단일 책임 원칙`을 만족합니다.
2. 기존 클라이언트 코드를 건드지 않고 새로운 명령을 구현할 수 있기 때문에 `개방/폐쇄 원칙`을 만족합니다.
3. 취소 / 다시 실행 기능을 구현할 수 있습니다.
4. 지연된 작업을 실행 시킬 수 있도록 구현할 수 있습니다.
5. 간단한 N개의 명령 세트를 복잡한 명령으로 조합할 수 있습니다.

#### **단점**
1. 발신하는 코드와 수신하는 코드 사이에 완전히 새로운 계층을 도입하기 때문에 전체적인 코드가 더 복잡해질 수 있습니다.

<br/>
## **예제**




