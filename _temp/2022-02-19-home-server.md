---
title: 홈서버 구축기
author: keencho
date: 2022-02-19 10:12:00 +0900
categories: [ETC]
tags: [ETC]
---

# **개요**
집에서 시놀로지 NAS를 굴린지 3년이 되어간다. 그당시 개인 저장소에 대한 막연한 환상이 있어 구매하였지만 생각보다 코어단을 건드리는 부분에 있어 제약사항이 꽤 많았던것 같다. 뭐 도커를 설치하고 어쩌구 저쩌구 하면 되지만 결국 OS는 DSM이다.

심지어 야심차게 밖아넣은 1TB HDD는 20%도 사용하지 않고 먼지만 쌓여가고 있었다. 그래서 올해 중고로 팔아버렸다. 제 값을 못받은것 같긴 하지만 뭐 쓸데도 없으니 후회하진 않는다.

NAS를 팔긴 했지만 개인 서버가 필요하긴 했다. 중요한 자료를 저장할 곳이 필요하고 실시간으로 자료를 업로드하고 다운받을 수 있는, 그러면서 용량은 그렇게 크지 않아도 되는 그런 작은 서버 말이다.

처음 생각한건 AWS였다. 근데 EBS의 용량이 올라가면 올라갈수록 요금이 기하급수적으로 올라가는것을 보고 포기하게 되었다. 무엇보다 최근 너무 많은 일들(개인, 회사..) 을 클라우드 서비스로 처리하다 보니 조금 질린(?) 듯 하였다.

그래서 결론적으로 선택한건 베어본 PC이다. 적당히 전력을 먹으면서 내가 원하는 사양으로 맞출 수 있을것 같았다. (무엇보다 사이즈가 작고 이뻐서 인테리어에 큰 영향을 주지 않는다.)

## **구성**

### **1. PC**
내가 선택한 PC는 [PN41-BBC035MV](http://prod.danawa.com/info/?pcode=14395619) 요놈이다. 2코어 2스레드의 사양을 가진 셀러론 N4505 CPU를 탑재하였고 USB 3.0 지원, 블루투스 탑재, 0.7kg의 무게 등의 특징을 가지고 있다. 무엇보다 이쁘다.

### **2. 저장장치**
베어본 CP라 저장장치가 포함되어 있지 않다. 프로그램을 돌리는 용도의 SSD 256GB 와 파일, 데이터 저장용 HHD 1TB로 구성했다. SSD와 HDD는 각각 M.2 2280 for PCIe, 2.5인치의 규격으로 맞춰야 한다.

안타깝게도 집에 굴러다니는 SSD와 HDD는 모두 데스크탑 용이었기 때문에 눈물을 머금고 10만원을 지출했다.

### **3. RAM**
램도 포함되어있지 않지만 마침 8GB 짜리 램이 있어 램은 그대로 사용하기로 했다. 램은 노트북용인 SO-DIMM 규격을 사용해야 한다.

### **4. 네트워크**
기존 NAS를 사용할때는 NAS 자체를 거실에 두고 사용했고 IP가 바뀌더라도 그를 탐지하는 프로그램을 통해 자동으로 내 휴대폰에서 접근할수 있게끔 사용해왔다. 하지만 나는 이 홈서버는 24시간 중단없이 돌릴 생각이다. 선택할 수 있는 방법은 2가지가 있었다.

1. 월 요금 지불후 고정 IP 사용
2. 공유기(ipTIME)의 DDNS 기능 사용

어쨌거나 나는 내 방에 PC를 둘 생각이었고 내 방의 랜포트는 한개기 때문에 공유기가 필요했다. 공유기를 사는 김에 DDNS 기능을 사용해 보기로 했다. 선택한 공유기는 [A2004NS-MU](https://www.coupang.com/vp/products/171322887?vendorItemId=4239068404&sourceType=MyCoupang_my_orders_list_product_title&isAddedCart=) 이다. 그냥 쿠팡에서 로켓배송 지원하고 1등이길래 구매했다.

### **5. OS**
OS는 [Rocky Linux](https://rockylinux.org/)로 정했다. Rocky Linux도 언젠가는 CentOS 꼴이 날것이라 생각하는 사람도 있고 나 역시 그럴 가능성이 있어 Ubuntu와 끝까지 고민했지만, 나는 레드햇 계열의 리눅스에 더 끌린다. 어쩔수 없나 보다.
