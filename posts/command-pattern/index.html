<!DOCTYPE html><html lang="ko-KS" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="커맨드 패턴 (Command Pattern)" /><meta name="author" content="keencho" /><meta property="og:locale" content="ko_KS" /><meta name="description" content="커맨드 패턴 커맨드 패턴은 실행될 기능을 객체의 형태로 캡슐화 함으로써 여러 기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴 입니다. 이 패턴은 어떤 이벤트가 발생했을 때 실행될 기능이 다양하면서 여러가지 변경이 필요한 경우에 이벤트를 발생시키는 클래스를 변경하지 않고 재사용 할 때 유용합니다." /><meta property="og:description" content="커맨드 패턴 커맨드 패턴은 실행될 기능을 객체의 형태로 캡슐화 함으로써 여러 기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴 입니다. 이 패턴은 어떤 이벤트가 발생했을 때 실행될 기능이 다양하면서 여러가지 변경이 필요한 경우에 이벤트를 발생시키는 클래스를 변경하지 않고 재사용 할 때 유용합니다." /><link rel="canonical" href="https://keencho.github.io/posts/command-pattern/" /><meta property="og:url" content="https://keencho.github.io/posts/command-pattern/" /><meta property="og:site_name" content="keencho’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-24T20:12:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="커맨드 패턴 (Command Pattern)" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@keencho" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keencho"},"dateModified":"2022-02-13T15:49:22+09:00","datePublished":"2021-07-24T20:12:00+09:00","description":"커맨드 패턴 커맨드 패턴은 실행될 기능을 객체의 형태로 캡슐화 함으로써 여러 기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴 입니다. 이 패턴은 어떤 이벤트가 발생했을 때 실행될 기능이 다양하면서 여러가지 변경이 필요한 경우에 이벤트를 발생시키는 클래스를 변경하지 않고 재사용 할 때 유용합니다.","headline":"커맨드 패턴 (Command Pattern)","mainEntityOfPage":{"@type":"WebPage","@id":"https://keencho.github.io/posts/command-pattern/"},"url":"https://keencho.github.io/posts/command-pattern/"}</script><title>커맨드 패턴 (Command Pattern) | keencho's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="keencho's blog"><meta name="application-name" content="keencho's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/custom/keencho.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">keencho's blog</a></div><div class="site-subtitle font-italic">이것저것 정리하는 블로그.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/keencho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['seyoung050412','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>커맨드 패턴 (Command Pattern)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>커맨드 패턴 (Command Pattern)</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1627125120" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 24, 2021 </em> </span><div class="d-flex justify-content-between"> <span> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2575 words"> <em>14 min</em> read</span></div></div></div><div class="post-content"><h1 id="커맨드-패턴"><strong>커맨드 패턴</strong></h1><p>커맨드 패턴은 <code class="language-plaintext highlighter-rouge">실행될 기능을 객체의 형태로 캡슐화</code> 함으로써 여러 기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴 입니다. 이 패턴은 어떤 이벤트가 발생했을 때 실행될 기능이 다양하면서 여러가지 변경이 필요한 경우에 이벤트를 발생시키는 클래스를 변경하지 않고 재사용 할 때 유용합니다.</p><h2 id="구조"><span class="mr-2"><strong>구조</strong></span><a href="#구조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img data-src="/assets/img/custom/design-pattern/command/structure.png" alt="structure" data-proofer-ignore></p><ol><li>호출자는 요청을 시작하는 역할을 합니다. 이 클래스에는 명령 객체를 참조하는 필드가 있어야 합니다. 호출자는 요청을 수신자에게 직접 보내는 대신 해당 명령을 트리거합니다.<li>커맨드 인터페이스는 대체로 명령을 실행하기 위한 단일 메소드만 선언합니다.<li>커맨드 터페이스의 구현 클래스는 다양한 종류의 요청들을 상속합니다. 구현 클래스는 자체적으로 작업을 수행하는 것이 아니라 비즈니스 로직 객체중 하나로 이러한 명령을 전달해야 합니다.<li>명령을 전달받는 수신 클래스에는 비즈니스 로직을 포함하고 있습니다. 거의 모든 객체가 수신자처럼 동작될 수 있습니다.<li>클라이언트 코드는 구체적인 명령 객체를 만들고 구성합니다. 클라이언트는 커맨드 인터페이스의 생성자에 수신 클래스의 인스턴스를 포함한 모든 요청 파라미터를 전달해야 합니다.</ol><h2 id="적용-가능한-경우"><span class="mr-2"><strong>적용 가능한 경우</strong></span><a href="#적용-가능한-경우" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>어떤 작업과 함께 객체를 파라미터화 하려는 경우 커맨드 패턴을 사용할 수 있습니다.<ul><li>커맨드 패턴은 특정 메소드 호출을 독립 실행형 객체로 변환할 수 있습니다.</ul><li>큐에 작업을 넣거나 작업을 스케쥴링, 혹은 작업을 원격으로 실행하고자 한 경우 커맨드 패턴을 사용할 수 있습니다.<li>롤백 가능한 작업을 구현하고자 하는 경우 커맨트 패턴을 사용할 수 있습니다.</ol><h2 id="장단점"><span class="mr-2"><strong>장단점</strong></span><a href="#장단점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h4 id="장점"><span class="mr-2"><strong>장점</strong></span><a href="#장점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li>어떤 작업을 수행하는 클래스에서 작업을 수행하는 부분만 분리할 수 있기 때문에 <code class="language-plaintext highlighter-rouge">단일 책임 원칙</code>을 만족합니다.<li>기존 클라이언트 코드를 건드지 않고 새로운 명령을 구현할 수 있기 때문에 <code class="language-plaintext highlighter-rouge">개방/폐쇄 원칙</code>을 만족합니다.<li>취소 / 다시 실행 기능을 구현할 수 있습니다.<li>지연된 작업을 실행 시킬 수 있도록 구현할 수 있습니다.<li>간단한 N개의 명령 세트를 복잡한 명령으로 조합할 수 있습니다.</ol><h4 id="단점"><span class="mr-2"><strong>단점</strong></span><a href="#단점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li>발신하는 코드와 수신하는 코드 사이에 완전히 새로운 계층을 도입하기 때문에 전체적인 코드가 더 복잡해질 수 있습니다.</ol><h2 id="예제"><span class="mr-2"><strong>예제</strong></span><a href="#예제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>현재 4가지의 기능을 하는 리모콘을 가지고 있습니다. 코드는 다음과 같습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nc">Button</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">enum</span> <span class="nc">Button</span> <span class="o">{</span>
    <span class="no">UP</span><span class="o">,</span> <span class="no">DOWN</span><span class="o">,</span> <span class="no">LEFT</span><span class="o">,</span> <span class="no">RIGHT</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre><td class="rouge-code"><pre><span class="nc">RemoteControl</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RemoteControl</span> <span class="o">{</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">channelList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">9</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="mi">27</span><span class="o">,</span> <span class="mi">30</span><span class="o">));</span>
    <span class="kt">int</span> <span class="n">channel</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">volume</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">volumeUp</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">volume</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 볼륨은 "</span> <span class="o">+</span> <span class="o">++</span><span class="n">volume</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"볼륨을 더이상 높일 수 없습니다."</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">volumeDown</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">volume</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 볼륨은 "</span> <span class="o">+</span> <span class="o">--</span><span class="n">volume</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"볼륨을 더이상 낮출 수 없습니다."</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">channelUp</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">currentChannelIndex</span> <span class="o">=</span> <span class="n">channelList</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">channel</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">==</span> <span class="n">channelList</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="n">channelList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="n">channelList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 채널은 "</span> <span class="o">+</span> <span class="n">channel</span> <span class="o">+</span> <span class="s">"번 입니다."</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">channelDown</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">currentChannelIndex</span> <span class="o">=</span> <span class="n">channelList</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">channel</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="n">channelList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">channelList</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="n">channelList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 채널은 "</span> <span class="o">+</span> <span class="n">channel</span> <span class="o">+</span> <span class="s">"번 입니다."</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="nc">RemoteControlCommander</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RemoteControlCommander</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">RemoteControl</span> <span class="n">remoteControl</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RemoteControl</span><span class="o">();</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">press</span><span class="o">(</span><span class="nc">Button</span> <span class="n">button</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">button</span> <span class="o">==</span> <span class="nc">Button</span><span class="o">.</span><span class="na">UP</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">volumeUp</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">button</span> <span class="o">==</span> <span class="nc">Button</span><span class="o">.</span><span class="na">DOWN</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">volumeDown</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">button</span> <span class="o">==</span> <span class="nc">Button</span><span class="o">.</span><span class="na">LEFT</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">channelDown</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">button</span> <span class="o">==</span> <span class="nc">Button</span><span class="o">.</span><span class="na">RIGHT</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">channelUp</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="nc">Client</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Client</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">RemoteControlCommander</span> <span class="n">remoteControlCommander</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RemoteControlCommander</span><span class="o">();</span>

        <span class="n">remoteControlCommander</span><span class="o">.</span><span class="na">press</span><span class="o">(</span><span class="nc">Button</span><span class="o">.</span><span class="na">UP</span><span class="o">);</span>
        <span class="n">remoteControlCommander</span><span class="o">.</span><span class="na">press</span><span class="o">(</span><span class="nc">Button</span><span class="o">.</span><span class="na">DOWN</span><span class="o">);</span>
        <span class="n">remoteControlCommander</span><span class="o">.</span><span class="na">press</span><span class="o">(</span><span class="nc">Button</span><span class="o">.</span><span class="na">LEFT</span><span class="o">);</span>
        <span class="n">remoteControlCommander</span><span class="o">.</span><span class="na">press</span><span class="o">(</span><span class="nc">Button</span><span class="o">.</span><span class="na">RIGHT</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>리모콘의 위 아래 버튼을 누르면 볼륨을 컨트롤하고, 좌 우 버튼을 누르면 채널을 컨트롤하는 간단한 리모콘입니다.</p><p>지금까지는 문제가 없었으나 새로운 버튼을 20개 정도 추가하라는 지시를 받았습니다. 그래서 우리는 <code class="language-plaintext highlighter-rouge">RemoteControlCommander</code>클래스의 press() 메소드에 다른 Button이 들어올 경우를 대비하여 20 개의 if-else 문을 추가해야 합니다. (혹은 switch-case문) 또한 <code class="language-plaintext highlighter-rouge">RemoteControl</code>클래스에 20개의 메소드를 추가해야 합니다. 이는 <code class="language-plaintext highlighter-rouge">개방/폐쇄 원칙</code>과 <code class="language-plaintext highlighter-rouge">단일 책임 원칙</code>을 충족하지 않습니다. 그래서 커맨드 패턴을 사용해 코드를 리팩토링 하기로 결정하였습니다.</p><p>일단 <code class="language-plaintext highlighter-rouge">Command</code> 인터페이스 부터 생성하겠습니다. 인터페이스, 추상 클래스 둘중 본인의 스타일대로 생성하면 됩니다.</p><blockquote><p>인터페이스는 Command 의 구현체에서 RemoteControl을 주입해야 합니다. 추상 클래스는 Command 자체에서 RemoteControl을 주입해야 합니다.</p></blockquote><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nc">Command</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Command</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">execute</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음은 기존의 <code class="language-plaintext highlighter-rouge">RemoteControl</code> 클래스를 변경하겠습니다. 이 클래스는 이제 어떤 행위를 하는 메소드는 없고 필드를 컨트롤 할 수 있는 getter / setter 메소드만 존재할 것입니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">RemoteControl</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">channelList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">9</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="mi">23</span><span class="o">,</span> <span class="mi">27</span><span class="o">,</span> <span class="mi">30</span><span class="o">));</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">channel</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">volume</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">getChannelList</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">channelList</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getChannel</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">channel</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setChannel</span><span class="o">(</span><span class="kt">int</span> <span class="n">channel</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">channel</span> <span class="o">=</span> <span class="n">channel</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getVolume</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">volume</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setVolume</span><span class="o">(</span><span class="kt">int</span> <span class="n">volume</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">volume</span> <span class="o">=</span> <span class="n">volume</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음은 커맨드 인터페이스를 구현하는 구현체 클래스를 만들겠습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="nc">VolumeUpCommand</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VolumeUpCommand</span> <span class="kd">implements</span> <span class="nc">Command</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">VolumeUpCommand</span><span class="o">(</span><span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">remoteControl</span> <span class="o">=</span> <span class="n">remoteControl</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getVolume</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">setVolume</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getVolume</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 볼륨은 "</span> <span class="o">+</span> <span class="n">remoteControl</span><span class="o">.</span><span class="na">getVolume</span><span class="o">()</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"볼륨을 더이상 높일 수 없습니다."</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="nc">VolumeDownCommand</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VolumeDownCommand</span> <span class="kd">implements</span> <span class="nc">Command</span><span class="o">{</span>

    <span class="kd">private</span> <span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">VolumeDownCommand</span><span class="o">(</span><span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">remoteControl</span> <span class="o">=</span> <span class="n">remoteControl</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getVolume</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">setVolume</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getVolume</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 볼륨은 "</span> <span class="o">+</span> <span class="n">remoteControl</span><span class="o">.</span><span class="na">getVolume</span><span class="o">()</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"볼륨을 더이상 낮출 수 없습니다."</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="nc">ChannelUpCommand</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChannelUpCommand</span> <span class="kd">implements</span> <span class="nc">Command</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ChannelUpCommand</span><span class="o">(</span><span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">remoteControl</span> <span class="o">=</span> <span class="n">remoteControl</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">currentChannelIndex</span> <span class="o">=</span> <span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">indexOf</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannel</span><span class="o">());</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">==</span> <span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">setChannel</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">setChannel</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 채널은 "</span> <span class="o">+</span> <span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannel</span><span class="o">()</span> <span class="o">+</span> <span class="s">"번 입니다."</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="nc">ChannelDownCommand</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChannelDownCommand</span> <span class="kd">implements</span> <span class="nc">Command</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ChannelDownCommand</span><span class="o">(</span><span class="nc">RemoteControl</span> <span class="n">remoteControl</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">remoteControl</span> <span class="o">=</span> <span class="n">remoteControl</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">currentChannelIndex</span> <span class="o">=</span> <span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">indexOf</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannel</span><span class="o">());</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">setChannel</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">remoteControl</span><span class="o">.</span><span class="na">setChannel</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannelList</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">currentChannelIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 채널은 "</span> <span class="o">+</span> <span class="n">remoteControl</span><span class="o">.</span><span class="na">getChannel</span><span class="o">()</span> <span class="o">+</span> <span class="s">"번 입니다."</span><span class="o">);</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>커맨드 인터페이스를 구현하는 구현 클래스를 모두 생성하였습니다. 마지막으로 기존 <code class="language-plaintext highlighter-rouge">RemoteControlCommander</code> 클래스를 삭제하고 클라이언트 코드를 변경하겠습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="nc">Client</span><span class="o">.</span><span class="na">java</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Client</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">RemoteControl</span> <span class="n">remoteControl</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RemoteControl</span><span class="o">();</span>

        <span class="nc">VolumeUpCommand</span> <span class="n">volumeUpCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">VolumeUpCommand</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">);</span>
        <span class="nc">VolumeDownCommand</span> <span class="n">volumeDownCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">VolumeDownCommand</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">);</span>
        <span class="nc">ChannelUpCommand</span> <span class="n">channelUpCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ChannelUpCommand</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">);</span>
        <span class="nc">ChannelDownCommand</span> <span class="n">channelDownCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ChannelDownCommand</span><span class="o">(</span><span class="n">remoteControl</span><span class="o">);</span>

        <span class="n">volumeUpCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
        <span class="n">volumeDownCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
        <span class="n">channelUpCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
        <span class="n">channelDownCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>커맨드 패턴을 적용한 코드 리팩토링이 완료되었습니다. 이제 새로운 버튼이 생기더라도 커맨드 인터페이스를 상속한 구현 클래스를 새롭게 만들고 클라이언트만 수정하면 됩니다. 즉, 다른 코드를 건들지 않아도 되므로 <code class="language-plaintext highlighter-rouge">계방 폐쇄 원칙</code>을 만족합니다. 물론 <code class="language-plaintext highlighter-rouge">RemoteControl</code> 클래스에는 필요한 필드들이 생길 수 있습니다. (ex. 외부입력 포트) 그렇다 하더라도 기존의 한 클래스에 모든 메소드를 넣은 방식에 비해 클래스가 필수적으로 가지고 있어야 하는 필드, 메소드들만 가지고 있게 변경되었으므로 <code class="language-plaintext highlighter-rouge">단일 책임 원칙</code>을 만족하게 됩니다.</p><h2 id="결론"><span class="mr-2"><strong>결론</strong></span><a href="#결론" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>커맨드 패턴은 주로 GUI 프로그래밍에서 많이 쓰이곤 합니다. 어떤 버튼을 눌렀을 때 해당 버튼이 실행할 동작을 구현하고자 할때 주로 사용하지요. 또한 자바 프로그래밍을 하며 쉽게 접할 수 있는 <code class="language-plaintext highlighter-rouge">Runnable</code> 인터페이스의 모든 구현체도 커맨드 패턴이 적용된 대표적인 사례입니다.</p><p>이렇듯 많은 곳에서 사용되지만 모든 패턴들이 그렇듯 커맨드 패턴 또한 잘못된 설계로 개발이 진행되었을 때 오히려 코드가 더 복잡해질 수 있으니 주의가 필요합니다.</p><h2 id="참조"><span class="mr-2"><strong>참조</strong></span><a href="#참조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><blockquote><p><a href="https://refactoring.guru/design-patterns/command">https://refactoring.guru/design-patterns/command</a> <a href="https://sourcemaking.com/design_patterns/command/java/1">https://sourcemaking.com/design_patterns/command/java/1</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-pattern/'>Design Pattern</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-pattern/" class="post-tag no-text-decoration" >Design Pattern</a> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%BB%A4%EB%A7%A8%EB%93%9C+%ED%8C%A8%ED%84%B4+%28Command+Pattern%29+-+keencho%27s+blog&url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fcommand-pattern%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%BB%A4%EB%A7%A8%EB%93%9C+%ED%8C%A8%ED%84%B4+%28Command+Pattern%29+-+keencho%27s+blog&u=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fcommand-pattern%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fcommand-pattern%2F&text=%EC%BB%A4%EB%A7%A8%EB%93%9C+%ED%8C%A8%ED%84%B4+%28Command+Pattern%29+-+keencho%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-flush/">JPA & Hibernate Flush Mode</a><li><a href="/posts/aws-cicd-1/">AWS를 사용해 무중단 배포 자동화 환경 구축하기 - 1. 개요</a><li><a href="/posts/terraform-aws-infra-6/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 6. 운영환경 (백엔드)</a><li><a href="/posts/aapt2-arm/">Arm 아키텍처에서 AAPT2 빌드 도구 사용하기</a><li><a href="/posts/terraform-aws-infra-1/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 1. 개요</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/proxy-pattern/"><div class="card-body"> <em class="small" data-ts="1625310720" data-df="ll" > Jul 3, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>프록시 패턴 (Proxy Pattern)</h3><div class="text-muted small"><p> 프록시 패턴 프록시(Proxy) 는 대리자 라는 뜻입니다. 실생활서의 의미처럼 프로그램에서의 프록시도 누군가에게 어떤 일을 대신 시키는 것 이란 의미를 가지고 있습니다. 때때로 우리는 객체에 대한 액세스를 제어하는 기능을 필요합니다. 예를 들어 무겁고 많은 자원을 필요로 하는 클래스의 한두가지 메소드만 사용해야 하더라도 생성자로 전체 클래스를 인스턴...</p></div></div></a></div><div class="card"> <a href="/posts/singleton-pattern/"><div class="card-body"> <em class="small" data-ts="1625569920" data-df="ll" > Jul 6, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>싱글턴 패턴 (Singleton Pattern)</h3><div class="text-muted small"><p> 싱글턴 패턴 싱글턴 패턴은 생성자가 여러 차례 호출되더라도 실제로 생성되는 객체는 하나이고 최초 생성 이후 호출된 생성자는 최초의 생성자가 생성한 객체를 리턴하는 디자인 유형입니다. 구조 싱글턴 클래스는 자체 클래스의 동일한 인스턴스를 반환하는 getInstance() 라는 정적 메소드를 선언했습니다. 싱글턴의 생성자는 ...</p></div></div></a></div><div class="card"> <a href="/posts/observer-pattern/"><div class="card-body"> <em class="small" data-ts="1625829120" data-df="ll" > Jul 9, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>옵저버 패턴 (Observer Pattern)</h3><div class="text-muted small"><p> 옵저버 패턴 옵저버 패턴은 객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메스드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는 디자인 패턴입니다. 구조 게시자는 다른 객체들에게 관심 이벤트를 발행합니다. 이 이벤트난 게시자가 상태를 변경하거나 어떤 동작을 실행할 때 발생합니...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/iterator-pattern/" class="btn btn-outline-primary" prompt="Older"><p>반복자 패턴 (Iterator Pattern)</p></a> <a href="/posts/transaction-rollback/" class="btn btn-outline-primary" prompt="Newer"><p>Transaction silently rolled back because it has been marked as rollback-only</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/keencho">keencho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
