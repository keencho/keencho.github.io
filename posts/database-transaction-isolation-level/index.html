<!DOCTYPE html><html lang="ko-KS" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Transaction Isolation" /><meta name="author" content="keencho" /><meta property="og:locale" content="ko_KS" /><meta name="description" content="트랜잭션 트랜잭션 관리는 데이터베이스와 통신하는 코드를 작성하는 백엔드 개발자라면 누구에게나 중요한 항목입니다. 트랜잭션의 옵션에 따라 성능이 크게 향상될수 있고 메소드 내부에서 일어나는 예외 상황이 달라질수 있기 때문입니다. 따라서 트랜잭션을 이해하고 설정하는 것이 정말 중요하다고 할수 있습니다." /><meta property="og:description" content="트랜잭션 트랜잭션 관리는 데이터베이스와 통신하는 코드를 작성하는 백엔드 개발자라면 누구에게나 중요한 항목입니다. 트랜잭션의 옵션에 따라 성능이 크게 향상될수 있고 메소드 내부에서 일어나는 예외 상황이 달라질수 있기 때문입니다. 따라서 트랜잭션을 이해하고 설정하는 것이 정말 중요하다고 할수 있습니다." /><link rel="canonical" href="https://keencho.github.io/posts/database-transaction-isolation-level/" /><meta property="og:url" content="https://keencho.github.io/posts/database-transaction-isolation-level/" /><meta property="og:site_name" content="keencho’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-23T20:12:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Transaction Isolation" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@keencho" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keencho"},"dateModified":"2022-03-23T20:12:00+09:00","datePublished":"2022-03-23T20:12:00+09:00","description":"트랜잭션 트랜잭션 관리는 데이터베이스와 통신하는 코드를 작성하는 백엔드 개발자라면 누구에게나 중요한 항목입니다. 트랜잭션의 옵션에 따라 성능이 크게 향상될수 있고 메소드 내부에서 일어나는 예외 상황이 달라질수 있기 때문입니다. 따라서 트랜잭션을 이해하고 설정하는 것이 정말 중요하다고 할수 있습니다.","headline":"Transaction Isolation","mainEntityOfPage":{"@type":"WebPage","@id":"https://keencho.github.io/posts/database-transaction-isolation-level/"},"url":"https://keencho.github.io/posts/database-transaction-isolation-level/"}</script><title>Transaction Isolation | keencho's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="keencho's blog"><meta name="application-name" content="keencho's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/custom/keencho.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">keencho's blog</a></div><div class="site-subtitle font-italic">이것저것 정리하는 블로그.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/keencho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['seyoung050412','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Transaction Isolation</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Transaction Isolation</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1648033920" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Mar 23, 2022 </em> </span><div class="d-flex justify-content-between"> <span> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1506 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><h1 id="트랜잭션">트랜잭션</h1><p>트랜잭션 관리는 데이터베이스와 통신하는 코드를 작성하는 백엔드 개발자라면 누구에게나 중요한 항목입니다. 트랜잭션의 옵션에 따라 성능이 크게 향상될수 있고 메소드 내부에서 일어나는 예외 상황이 달라질수 있기 때문입니다. 따라서 트랜잭션을 이해하고 설정하는 것이 정말 중요하다고 할수 있습니다.</p><h3 id="isolation-level-option"><span class="mr-2">Isolation level option</span><a href="#isolation-level-option" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Isolation level (격리수준) 은 트랜잭션의 주요 속성(원자성, 일관성, 격리, 내구성) 중 하나입니다. 동시에 여러 트랜잭션이 처리될 때 한 트랜잭션이 다른 트랜잭션에서 변경하거나 조회하는 데이터를 볼수 있게 허용할지 말지 결정하는 것입니다.</p><p>예를들어 Spring 에서는 5가지 Isolation level 을 세팅할수 있습니다. 만약 그중 하나인 <code class="language-plaintext highlighter-rouge">DEFAULT</code> 를 사용한다면 사용하고 있는 데이터베이스의 기본 옵션을 따라갑니다.<code class="language-plaintext highlighter-rouge">PostgreSQL, Oracle, SQL Server</code>의 경우 <code class="language-plaintext highlighter-rouge">READ_COMMITTED</code>을 사용하고, <code class="language-plaintext highlighter-rouge">MySQL</code>의 경우 <code class="language-plaintext highlighter-rouge">REPEATABLE_READ</code>을 사용합니다.</p><p>격리 수준이 허용하는 옵션들에 대해 먼저 알아보죠.</p><h5 id="1-dirty-read"><span class="mr-2">1. Dirty read</span><a href="#1-dirty-read" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>첫번째는 Dirty read(더티 리드) 입니다. 더티 리드는 하나의 트랜잭션이 아직 커밋되지 않은 다른 트랜잭션의 변경점을 조회할 수 있음을 의미합니다.</p><p><img data-src="/assets/img/custom/spring/jpa/transaction/dirty-read.jpg" alt="dirty-read" data-proofer-ignore></p><p>트랜잭션A가 시작된 이후 트랜잭션B가 시작됩니다. 트랜잭션A는 id가 10인 엔티티를 insert 합니다. 그 후 바로 트랜잭션B는 id가 10인 엔티티를 조회합니다. 그런데 그 이후 트랜잭션A가 문제가 생겨 모두 롤백되어 버렸습니다. 이제 트랜잭션B 에서 조회된 entity 객체는 데이터 무결성을 보장받지 못하는 상태가 되었습니다.</p><h5 id="2-non-repeatable-read"><span class="mr-2">2. Non-repeatable read</span><a href="#2-non-repeatable-read" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>두번째는 Non-repeatable read (반복 가능하지 않은 조회) 입니다. 반복 가능하지 않은 조회는 한 트랜잭션에서 동일한 행을 읽더라도 다른 트랜잭션에서 발생한 update or delete가 적용되기 때문에 행 내의 값이 다를수 있음을 의미합니다.</p><p><img data-src="/assets/img/custom/spring/jpa/transaction/non-repeatable%20read.jpg" alt="non-repeatable-read" data-proofer-ignore></p><p>트랜잭션 A가 시작된 이후 트랜잭션B가 시작됩니다. 트랜잭션A는 id가 10인 엔티티를 조회합니다. 그 후 트랜잭션B가 id가 10인 엔티티를 수정합니다. 그 후 다시 트랜잭션A가 id가 10인 엔티티를 조회합니다. 트랜잭션A는 동일한 행을 조회하였지만 그 각각의 결과값은 달라집니다.</p><h5 id="3-phantom-read"><span class="mr-2">3. Phantom read</span><a href="#3-phantom-read" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>마지막 세번쨰는 Phantom read(팬텀 리드) 입니다. 팬텀 리드는 한 트랜잭션에서 동일한 조회 쿼리를 수행하더라도 다른 트랜잭션에서 발생한 insert가 적용되기 때문에 행의 갯수(열)가 다를 수 있음을 의미합니다.</p><p><img data-src="/assets/img/custom/spring/jpa/transaction/phantom%20read.jpg" alt="phantom-read" data-proofer-ignore></p><p>트랜잭션A는 entity 테이블에서 모든 row를 조회합니다. 그 후 트랜잭션B에서 id가 10인 엔티티를 추가하였습니다. 그 후 다시 트랜잭션A에서 entity 테이블의 모든 row를 조회한다면 row의 갯수가 한개 늘어났을 것입니다.</p><h5 id="non-repeatable-read-vs-phantom-read"><span class="mr-2">Non-repeatable read vs Phantom read</span><a href="#non-repeatable-read-vs-phantom-read" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>반복 가능하지 않은 조회와 팬텀 리드 간에는 차이가 있습니다. 예제를 통해 알아보도록 하겠습니다.</p><ol><li>트랜잭션 A시작<li>트랜잭션 B시작<li>트랜잭션 A에서 X 쿼리(조회) 수행<li>트랜잭션 B에서 Y 쿼리(INSERT, UPDATE) 수행<li>트랜잭션 B 커밋<li>트랜잭션 A에서 X 쿼리(조회) 수행</ol><p>위와같은 플로우로 한 싸이클이 돈다고 가정해 보았습니다. 만약 <code class="language-plaintext highlighter-rouge">Non-repeatable read</code> 수준이라면 트랜잭션 B에서 INSERT가 일어나더라도 3번의 결과 행의 갯수와 6번의 결과 행의 갯수는 동일할 것입니다. 만약 UPDATE가 일어났다면 행의 갯수는 동일하지만 각각 행의 값은 다르겠지요.</p><p>만약 <code class="language-plaintext highlighter-rouge">Phantom read</code> 수준이라면 트랜잭션 B에서 INSERT가 일어나면 3번의 결과 행의 갯수와 6번의 결과 행의 갯수는 다를 것입니다. 하지만 UPDATE가 일어난다면 각각 행의 값은 동일하겠지요.</p><h3 id="isolation-level"><span class="mr-2">Isolation level</span><a href="#isolation-level" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>옵션들에 대해 알아봤으므로 이제 격리 수준의 종류에 대해 정리해보겠습니다.</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">Isolation Level<th style="text-align: center">Dirty Read<th style="text-align: center">Non-repeatable read<th style="text-align: center">Phantom read<tbody><tr><td style="text-align: center">READ_UNCOMMITTED<td style="text-align: center">O<td style="text-align: center">O<td style="text-align: center">O<tr><td style="text-align: center">READ_COMMITTED<td style="text-align: center">X<td style="text-align: center">O<td style="text-align: center">O<tr><td style="text-align: center">REPEATABLE_READ<td style="text-align: center">X<td style="text-align: center">X<td style="text-align: center">O<tr><td style="text-align: center">SERIALIZABLE<td style="text-align: center">X<td style="text-align: center">X<td style="text-align: center">X</table></div><p>격리 수준을 정리한 표입니다. <code class="language-plaintext highlighter-rouge">READ_UNCOMMITTED</code> (레벨 0) 부터 <code class="language-plaintext highlighter-rouge">SERIALIZABLE</code> (레벨 3) 까지 확인하실 수 있습니다.</p><h5 id="isolation-level-선택하기"><span class="mr-2">Isolation level 선택하기</span><a href="#isolation-level-선택하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>격리 수준에 대한 조정은 동시성, 데이터 무결성과 연관되어 있습니다. 동시성을 증가시키면 (레벨 0) 데이터 무결성에 문제가 발생하고 데이터 무결성을 유지하면 (레벨 3) 동시성이 떨어져 발생하는 비용이 증가하기 때문에 실제 어플리케이션에 영향을 끼치겠지요.</p><p>처리하는 로직이 모두 다르기 떄문에 특정한 격리 수준이 좋다 나쁘다를 말하기는 어렵겠지요. 따라서 로직에 따라 적절한 수준을 선택하는 것이 중요하다고 볼수 있겠습니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/database/'>Database</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/database/" class="post-tag no-text-decoration" >Database</a> <a href="/tags/transaction/" class="post-tag no-text-decoration" >Transaction</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Transaction+Isolation+-+keencho%27s+blog&url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fdatabase-transaction-isolation-level%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Transaction+Isolation+-+keencho%27s+blog&u=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fdatabase-transaction-isolation-level%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fdatabase-transaction-isolation-level%2F&text=Transaction+Isolation+-+keencho%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-flush/">JPA & Hibernate Flush Mode</a><li><a href="/posts/aws-cicd-1/">AWS를 사용해 무중단 배포 자동화 환경 구축하기 - 1. 개요</a><li><a href="/posts/terraform-aws-infra-6/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 6. 운영환경 (백엔드)</a><li><a href="/posts/aapt2-arm/">Arm 아키텍처에서 AAPT2 빌드 도구 사용하기</a><li><a href="/posts/terraform-aws-infra-1/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 1. 개요</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/transaction-rollback/"><div class="card-body"> <em class="small" data-ts="1627470720" data-df="ll" > Jul 28, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Transaction silently rolled back because it has been marked as rollback-only</h3><div class="text-muted small"><p> 이게 왜 저장이 안될까? 서비스를 운영하다가 이 포스팅의 제목과 같이 Transaction silently rolled back because it has been marked as rollback-only 라는 에러 메시지를 받게 되었습니다. 해당 에러의 원인은 금방 찾았으나, 한 서비스가 내부 서비스의 메소드를 try-catch 블록으로 감싸 호출...</p></div></div></a></div><div class="card"> <a href="/posts/spring-transactional-propagation/"><div class="card-body"> <em class="small" data-ts="1648681920" data-df="ll" > Mar 31, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring Transaction Propagation</h3><div class="text-muted small"><p> 트랜잭션 전파레벨 Spring의 @Transactional 어노테이션에는 많은 옵션이 존재합니다. 저번에 알아본 격리 레벨 도 그중 하나이지요. 이번에 알아볼 옵션은 Propagation(전파레벨) 옵션입니다. 트랜잭션에서의 전파는 비즈니스 로직의 트랜잭션 경계를 정의합니다. 스프링은 개발자가 설정한 레벨에 따라 트랜잭션을 시작하고 중지합니다. 스프...</p></div></div></a></div><div class="card"> <a href="/posts/database-view/"><div class="card-body"> <em class="small" data-ts="1684797120" data-df="ll" > May 23, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>DB 뷰(View)</h3><div class="text-muted small"><p> 1. 개요 데이터베이스 뷰는 현대의 데이터 중심 시스템에서 필수적인 요소로 자리잡았습니다. 데이터베이스 뷰는 데이터베이스 시스템에서 사용자들에게 편리한 인터페이스를 제공하고, 데이터를 효율적으로 조작하고 검색할 수 있는 기능을 제공합니다. 특히, PostgreSQL과 같은 강력한 관계형 데이터베이스에서 데이터베이스 뷰는 매우 유용한 도구입니다. 데이...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/jpa-entity-listener-di/" class="btn btn-outline-primary" prompt="Older"><p>JPA EntityListeners 에 의존성 주입하기</p></a> <a href="/posts/spring-transactional-propagation/" class="btn btn-outline-primary" prompt="Newer"><p>Spring Transaction Propagation</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/keencho">keencho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
