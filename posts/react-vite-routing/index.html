<!DOCTYPE html><html lang="ko-KS" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="리액트에서 폴더 구조대로 라우팅하기 (feat. Vite)" /><meta name="author" content="keencho" /><meta property="og:locale" content="ko_KS" /><meta name="description" content="Next js 처럼 라우팅하기 Next js는 리액트에서 SSR을 쉽게 구현할수 있게 도와주는 라이브러리 입니다. Next의 파일 시스템을 기반으로한 라우팅 을 기본으로 하고 있습니다. (참조) 오늘은 Next 없이 Next와 같은 라우팅을 구현해보고자 합니다." /><meta property="og:description" content="Next js 처럼 라우팅하기 Next js는 리액트에서 SSR을 쉽게 구현할수 있게 도와주는 라이브러리 입니다. Next의 파일 시스템을 기반으로한 라우팅 을 기본으로 하고 있습니다. (참조) 오늘은 Next 없이 Next와 같은 라우팅을 구현해보고자 합니다." /><link rel="canonical" href="https://keencho.github.io/posts/react-vite-routing/" /><meta property="og:url" content="https://keencho.github.io/posts/react-vite-routing/" /><meta property="og:site_name" content="keencho’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-08-28T20:12:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="리액트에서 폴더 구조대로 라우팅하기 (feat. Vite)" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@keencho" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keencho"},"dateModified":"2022-02-13T15:49:22+09:00","datePublished":"2021-08-28T20:12:00+09:00","description":"Next js 처럼 라우팅하기 Next js는 리액트에서 SSR을 쉽게 구현할수 있게 도와주는 라이브러리 입니다. Next의 파일 시스템을 기반으로한 라우팅 을 기본으로 하고 있습니다. (참조) 오늘은 Next 없이 Next와 같은 라우팅을 구현해보고자 합니다.","headline":"리액트에서 폴더 구조대로 라우팅하기 (feat. Vite)","mainEntityOfPage":{"@type":"WebPage","@id":"https://keencho.github.io/posts/react-vite-routing/"},"url":"https://keencho.github.io/posts/react-vite-routing/"}</script><title>리액트에서 폴더 구조대로 라우팅하기 (feat. Vite) | keencho's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="keencho's blog"><meta name="application-name" content="keencho's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/custom/keencho.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">keencho's blog</a></div><div class="site-subtitle font-italic">이것저것 정리하는 블로그.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/keencho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['seyoung050412','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>리액트에서 폴더 구조대로 라우팅하기 (feat. Vite)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>리액트에서 폴더 구조대로 라우팅하기 (feat. Vite)</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1630149120" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 28, 2021 </em> </span><div class="d-flex justify-content-between"> <span> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1898 words"> <em>10 min</em> read</span></div></div></div><div class="post-content"><h1 id="next-js-처럼-라우팅하기"><strong>Next js 처럼 라우팅하기</strong></h1><p>Next js는 리액트에서 SSR을 쉽게 구현할수 있게 도와주는 라이브러리 입니다. Next의 <code class="language-plaintext highlighter-rouge">파일 시스템을 기반으로한 라우팅</code> 을 기본으로 하고 있습니다. (<a href="https://nextjs.org/docs/routing/introduction">참조</a>) 오늘은 Next 없이 Next와 같은 라우팅을 구현해보고자 합니다.</p><h2 id="csr로-구현하기"><span class="mr-2"><strong>CSR로 구현하기?</strong></span><a href="#csr로-구현하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>리액트는 lazy 와 Suspense API로 동적 로딩을 지원하고 있기는 합니다. 이를 이용해 쉽게 구현할수도 있지요. 또 <a href="https://www.npmjs.com/package/react-dynamic-route">이런</a> 라이브러리도 있습니다. 하지만 결국 이는 클라이언트 사이드에서 앱이 시작될때 라우팅 규칙이 생성되기 때문에 뭔가 제 마음에 썩 들지는 않았습니다.</p><h2 id="vite"><span class="mr-2"><strong>Vite</strong></span><a href="#vite" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>사실 이 포스팅의 목적은 폴더 구조대로 라우팅이 아닌 최근에 관심있게 지켜보고 있는 <code class="language-plaintext highlighter-rouge">Vite</code> 라는 빌드 툴에 대해 정리하고자 하는것이었습니다. 하지만 Vite의 docs를 읽어보는 도중 폴더 구조대로 라우팅하는 방법을 찾았고, 포스팅의 목적을 바꾸게 되었습니다.</p><h3 id="vite란"><span class="mr-2"><strong>Vite란?</strong></span><a href="#vite란" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>일단 Vite에 대해 조금만 알아보고 넘어가도록 하겠습니다. Vite는 Vue js의 개발자인 Evan You가 개발한 빌드 툴입니다. Webpack 이나 Snowpack같은 툴이지요. (Snowpack에 더 가깝긴 합니다.) 2021년 8월 기준 깃헙 스타도 31.3k 정도로 핫한 빌드툴입니다.</p><p>Vite는 모던 브라우저에서 지원하는 <code class="language-plaintext highlighter-rouge">&lt;script module&gt;</code> 을 이용해 개발환경 구동시 필요한 모듈만 불러와서 실행하고 실제 서비스 빌드시에는 Rollup으로 번들링해주는 툴입니다. 직접 적용해서 시작해보면 시작속도가 굉장히 빠른것을 확인할 수 있습니다. 뿐만 아니라 수정시 수정한곳만 다시 리로드해서 보여주므로 리로딩 속도도 굉장히 빠른편입니다. 또한 SSR도 지원합니다.</p><p>Webpack을 대체할수 있어? 라고 물으신다면 이미 Webpack을 기반으로한 여러 라이브러리들이 많고 Vite는 IE11을 지원하지 않는등 여러 문제가 있어 아직은 시기상조라고 생각되나 추후 이 라이브러리가 더 개발된다면 충분히 대체할수 있다고 생각합니다.</p><h2 id="파일-시스템-기반-라우팅"><span class="mr-2"><strong>파일 시스템 기반 라우팅</strong></span><a href="#파일-시스템-기반-라우팅" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Vite에 대해 대충 훑어봤으니 실제로 Vite를 이욯애 리액트앱을 만들고 파일 시스템 기반 라우팅을 적용해보도록 하겠습니다. 최종적인 라우팅 목표는 다음과 같습니다.</p><ul><li>인덱스 라우팅<ul><li>src/pages/index.tsx -&gt; ‘’, ‘/’<li>src/pages/user/index.tsx -&gt; ‘/user’</ul><li>중첩 라우팅<ul><li>src/pages/user/list.tsx -&gt; ‘user/list’</ul><li>동적 라우팅<ul><li>src/pages/user/[id].tsx -&gt; ‘/user/12’, ‘user/34’</ul></ul><h3 id="시작하기"><span class="mr-2"><strong>시작하기</strong></span><a href="#시작하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>다음 명령어로 Vite를 이용해 리액트 - 타입스크립트 앱을 생성합니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm init vite@latest react-app --template react-ts
</pre></table></code></div></div><p>그리고 <code class="language-plaintext highlighter-rouge">react-router-dom</code>을 설치합니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm install react-router-dom @types/react-router-dom
</pre></table></code></div></div><h3 id="라우팅-규칙-정의하기"><span class="mr-2"><strong>라우팅 규칙 정의하기</strong></span><a href="#라우팅-규칙-정의하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Vite의 <a href="https://vitejs.dev/guide/features.html#glob-import">glob import API</a>를 사용하여 glob 패턴으로 라우팅 규칙을 정의해보겠습니다. Vite의 glob은 fast-glob 과 일치하며 glob에서 지원하는 규칙을 알고 싶으시면 <a href="https://github.com/mrmlnc/fast-glob#pattern-syntax">여기</a> 를 확인해보세요.</p><p><code class="language-plaintext highlighter-rouge">import.meta.globEager</code> 를 사용하여 동기방식으로 <code class="language-plaintext highlighter-rouge">src/pages</code> 폴더 내부에 있고 확장자가 <code class="language-plaintext highlighter-rouge">.tsx</code>인 컴포넌트들을 가져와 변수에 저장하겠습니다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">COMPONENTS</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nf">globEager</span><span class="p">(</span><span class="dl">'</span><span class="s1">/src/pages/**/[a-z[]*.tsx</span><span class="dl">'</span><span class="p">)</span>
</pre></table></code></div></div><p>위 패턴은 파일 이름이 소문자 a-z 로 시작하거나 중괄호 [ 로 시작하며 확장자는 tsx인 파일들을 모두 찾아옵니다.</p><p><code class="language-plaintext highlighter-rouge">.map</code> 메소드를 사용해 <code class="language-plaintext highlighter-rouge">COMPONENTS</code>를 순회하며 경로(path) 와 컴포넌트를 값으로 가지는 <code class="language-plaintext highlighter-rouge">components</code>변수를 정의하겠습니다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">components</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">keys</span><span class="p">(</span><span class="nx">COMPONENTS</span><span class="p">).</span><span class="nf">map</span><span class="p">((</span><span class="nx">component</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">component</span>
    <span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\/</span><span class="sr">src</span><span class="se">\/</span><span class="sr">pages|index|</span><span class="se">\.</span><span class="sr">tsx$/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\[\.{3}</span><span class="sr">.+</span><span class="se">\]</span><span class="sr">/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\[(</span><span class="sr">.+</span><span class="se">)\]</span><span class="sr">/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">:$1</span><span class="dl">'</span><span class="p">)</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">path</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">COMPONENTS</span><span class="p">[</span><span class="nx">component</span><span class="p">].</span><span class="k">default</span> <span class="p">}</span>
<span class="p">})</span>
</pre></table></code></div></div><p>위 규칙으로 정의한 <code class="language-plaintext highlighter-rouge">components</code> 변수의 값은 다음과 같이 정의될 수 있습니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>components = [
  { path: "/", component: f App() },
  { path: "/user", component: f UserList() },
  { path: "/user/:id }, component: f UserDetail() }
]
</pre></table></code></div></div><p>그리고 마지막으로 <code class="language-plaintext highlighter-rouge">components</code> 변수를 순회하며 리액터 라우트를 정의하여 리턴하는 <code class="language-plaintext highlighter-rouge">Routes()</code> 컴포넌트를 만들겠습니다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">App</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">components</span><span class="p">.</span><span class="nf">map</span><span class="p">(({</span> <span class="nx">path</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">Component</span> <span class="o">=</span> <span class="nx">Fragment</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span> <span class="nx">path</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="nx">exact</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="p">))}</span>
      <span class="o">&lt;</span><span class="sr">/Switch</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/App</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="404-정의하기"><span class="mr-2"><strong>404 정의하기</strong></span><a href="#404-정의하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>추가적으로 라우터에 등록된 컴포넌트가 아닐 경우 404 페이지를 리턴하도록 해보겠습니다. 위 <code class="language-plaintext highlighter-rouge">components</code> 변수와 같이 <code class="language-plaintext highlighter-rouge">_app.tsx</code>와 <code class="language-plaintext highlighter-rouge">404.tsx</code>의 경로를 저장하는 변수를 정의하겠습니다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">BASIC</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nf">globEager</span><span class="p">(</span><span class="dl">'</span><span class="s1">/src/pages/(_app|404).tsx</span><span class="dl">'</span><span class="p">)</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">_app.tsx</code>와 <code class="language-plaintext highlighter-rouge">404.tsx</code>의 컴포넌트를 저장하는 <code class="language-plaintext highlighter-rouge">basics</code> 변수를 정의하겠습니다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">basics</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">keys</span><span class="p">(</span><span class="nx">BASIC</span><span class="p">).</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">basic</span><span class="p">,</span> <span class="nx">file</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">file</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\/</span><span class="sr">src</span><span class="se">\/</span><span class="sr">pages</span><span class="se">\/</span><span class="sr">|</span><span class="se">\.</span><span class="sr">tsx$/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">basic</span><span class="p">,</span> <span class="p">[</span><span class="nx">key</span><span class="p">]:</span> <span class="nx">BASIC</span><span class="p">[</span><span class="nx">file</span><span class="p">].</span><span class="k">default</span> <span class="p">}</span>
<span class="p">},</span> <span class="p">{})</span>
</pre></table></code></div></div><p>자, 이제 위에서만든 <code class="language-plaintext highlighter-rouge">Routes()</code> 컴포넌트를 살짝 변경하겠습니다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="nx">basics</span><span class="p">?.[</span><span class="dl">'</span><span class="s1">_app</span><span class="dl">'</span><span class="p">]</span> <span class="o">||</span> <span class="nx">Fragment</span>
  <span class="kd">const</span> <span class="nx">NotFound</span> <span class="o">=</span> <span class="nx">basics</span><span class="p">?.[</span><span class="dl">'</span><span class="s1">404</span><span class="dl">'</span><span class="p">]</span> <span class="o">||</span> <span class="nx">Fragment</span>

  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">App</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">components</span><span class="p">.</span><span class="nf">map</span><span class="p">(({</span> <span class="nx">path</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">Component</span> <span class="o">=</span> <span class="nx">Fragment</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span> <span class="nx">path</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="nx">exact</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="p">))}</span>
        <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">path</span><span class="o">=</span><span class="dl">"</span><span class="s2">*</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">NotFound</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Switch</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/App</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p>만약 basics 변수에 해당 컴포넌트가 없다면 리액트의 <code class="language-plaintext highlighter-rouge">Fragment</code>가 쓰이게 됩니다.</p><h2 id="최종-코드"><span class="mr-2"><strong>최종 코드</strong></span><a href="#최종-코드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>모두 완성되었습니다. 최종 코드는 다음과 같습니다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="c1">// src/routes.tsx</span>

<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Fragment</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Switch</span><span class="p">,</span> <span class="nx">Route</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-router-dom</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">BASIC</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="p">{</span> <span class="p">[</span><span class="na">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="kr">any</span> <span class="p">}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nf">globEager</span><span class="p">(</span><span class="dl">'</span><span class="s1">/src/pages/(_app|404).tsx</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">COMPONENTS</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="p">{</span> <span class="p">[</span><span class="na">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="kr">any</span> <span class="p">}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nf">globEager</span><span class="p">(</span><span class="dl">'</span><span class="s1">/src/pages/**/[a-z[]*.tsx</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">basics</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">keys</span><span class="p">(</span><span class="nx">BASIC</span><span class="p">).</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">basic</span><span class="p">,</span> <span class="nx">file</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">file</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\/</span><span class="sr">src</span><span class="se">\/</span><span class="sr">pages</span><span class="se">\/</span><span class="sr">|</span><span class="se">\.</span><span class="sr">tsx$/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">basic</span><span class="p">,</span> <span class="p">[</span><span class="nx">key</span><span class="p">]:</span> <span class="nx">BASIC</span><span class="p">[</span><span class="nx">file</span><span class="p">].</span><span class="k">default</span> <span class="p">}</span>
<span class="p">},</span> <span class="p">{})</span>

<span class="kd">const</span> <span class="nx">components</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nf">keys</span><span class="p">(</span><span class="nx">COMPONENTS</span><span class="p">).</span><span class="nf">map</span><span class="p">((</span><span class="nx">component</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">component</span>
    <span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\/</span><span class="sr">src</span><span class="se">\/</span><span class="sr">pages|index|</span><span class="se">\.</span><span class="sr">tsx$/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\[\.{3}</span><span class="sr">.+</span><span class="se">\]</span><span class="sr">/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\[(</span><span class="sr">.+</span><span class="se">)\]</span><span class="sr">/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">:$1</span><span class="dl">'</span><span class="p">)</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">path</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">COMPONENTS</span><span class="p">[</span><span class="nx">component</span><span class="p">].</span><span class="k">default</span> <span class="p">}</span>
<span class="p">})</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="nx">basics</span><span class="p">?.[</span><span class="dl">'</span><span class="s1">_app</span><span class="dl">'</span><span class="p">]</span> <span class="o">||</span> <span class="nx">Fragment</span>
  <span class="kd">const</span> <span class="nx">NotFound</span> <span class="o">=</span> <span class="nx">basics</span><span class="p">?.[</span><span class="dl">'</span><span class="s1">404</span><span class="dl">'</span><span class="p">]</span> <span class="o">||</span> <span class="nx">Fragment</span>

  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">App</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">components</span><span class="p">.</span><span class="nf">map</span><span class="p">(({</span> <span class="nx">path</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">Component</span> <span class="o">=</span> <span class="nx">Fragment</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span> <span class="nx">path</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="p">}</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="nx">exact</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="p">))}</span>
        <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">path</span><span class="o">=</span><span class="dl">"</span><span class="s2">*</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">NotFound</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Switch</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/App</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="c1">// main.tsx</span>

<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">StrictMode</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-router-dom</span><span class="dl">'</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">Routes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./routes</span><span class="dl">'</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nf">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">StrictMode</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">BrowserRouter</span> <span class="nx">basename</span><span class="o">=</span><span class="dl">'</span><span class="s1">/finance</span><span class="dl">'</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Routes</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/BrowserRouter</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/StrictMode&gt;</span><span class="err">,
</span>  <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">)</span>
<span class="p">)</span>
</pre></table></code></div></div><p>파일 구조는 다음과 같습니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>├── index.html
├── index.css
├── package.json
├── package-lock.json
├── tsconfig.json
└── src
    ├── pages
    │   ├── 404.tsx
    │   ├── _app.tsx
    │   └── user
    │       ├── index.tsx
    │       └── [id].tsx
    ├── main.tsx
    ├── routes.tsx
    └── vite-env.d.tsx
</pre></table></code></div></div><h2 id="결론"><span class="mr-2"><strong>결론</strong></span><a href="#결론" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Vite 와 globEager 를 사용해 파일 시스템을 기반으로한 라우팅을 적용해보았습니다. 적용하고 나니 참 편리한것 같습니다. 이곳에서 Vite에 대해 자세히 다루지는 않았지만 개인적으로 앞으로의 토이 프로젝트에는 Vite를 주로 사용할것 같습니다. 토이 프로젝트를 React나 Vue (Angular는 아직입니다…) 로 구성할 계획이 있으신 분들이면 한번 사용해 보시기 바랍니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/react/'>React</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/react/" class="post-tag no-text-decoration" >React</a> <a href="/tags/vite/" class="post-tag no-text-decoration" >Vite</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90%EC%84%9C+%ED%8F%B4%EB%8D%94+%EA%B5%AC%EC%A1%B0%EB%8C%80%EB%A1%9C+%EB%9D%BC%EC%9A%B0%ED%8C%85%ED%95%98%EA%B8%B0+%28feat.+Vite%29+-+keencho%27s+blog&url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Freact-vite-routing%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90%EC%84%9C+%ED%8F%B4%EB%8D%94+%EA%B5%AC%EC%A1%B0%EB%8C%80%EB%A1%9C+%EB%9D%BC%EC%9A%B0%ED%8C%85%ED%95%98%EA%B8%B0+%28feat.+Vite%29+-+keencho%27s+blog&u=https%3A%2F%2Fkeencho.github.io%2Fposts%2Freact-vite-routing%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Freact-vite-routing%2F&text=%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90%EC%84%9C+%ED%8F%B4%EB%8D%94+%EA%B5%AC%EC%A1%B0%EB%8C%80%EB%A1%9C+%EB%9D%BC%EC%9A%B0%ED%8C%85%ED%95%98%EA%B8%B0+%28feat.+Vite%29+-+keencho%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-flush/">JPA & Hibernate Flush Mode</a><li><a href="/posts/aws-cicd-1/">AWS를 사용해 무중단 배포 자동화 환경 구축하기 - 1. 개요</a><li><a href="/posts/terraform-aws-infra-6/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 6. 운영환경 (백엔드)</a><li><a href="/posts/aapt2-arm/">Arm 아키텍처에서 AAPT2 빌드 도구 사용하기</a><li><a href="/posts/terraform-aws-infra-1/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 1. 개요</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/react-iamport-component/"><div class="card-body"> <em class="small" data-ts="1641640320" data-df="ll" > Jan 8, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>리액트에서 아임포트 컨트롤하기</h3><div class="text-muted small"><p> 개요 제가 운영중인 서비스에서는 아임포트를 결제 모듈로 사용하고 있습니다. 현재 홈페이지 내부에서 결제할 수 있는 페이지는 1개가 아닙니다. 따라서 각각의 컨테이너 혹은 컴포넌트에서 그때그때 아임포트 모듈을 호출해야 합니다. 아임포트를 쉽게 컨트롤하고 코드 재사용성을 향상시키기 위해 recoil을 이용하여 컴포넌트를 만들었습니다. recoil 현재...</p></div></div></a></div><div class="card"> <a href="/posts/react-multitab/"><div class="card-body"> <em class="small" data-ts="1650150720" data-df="ll" > Apr 17, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>리액트로 멀티탭 구현하기 (feat. Recoil)</h3><div class="text-muted small"><p> 리액트로 멀티탭 구현하기 탭을 클릭했을때 해당 탭의 컴포넌트를 보여주는 방식의 코드나 라이브러리는 인터넷에 검색해보면 많습니다. 당장 npm에만 봐도 조금 오래되긴 했지만 이런 라이브러리도 존재합니다. 하지만 탭을 클릭했을때 해당 탭을 새로운 컴포넌트로써 오픈하고 오픈된 컴포넌트들의 리스트를 관리하는 형태의 예제코드는 별로 없는것 같습니다. 그래서 ...</p></div></div></a></div><div class="card"> <a href="/posts/react-hook-return-array-object/"><div class="card-body"> <em class="small" data-ts="1693264320" data-df="ll" > Aug 29, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React custom hook return array vs object</h3><div class="text-muted small"><p> React custom hook return array vs object 1. 개요 리액트 자체의 훅, 또는 리액트 관련 라이브러리들의 훅을 사용하다 보면 드는 의문점이 하나 있다. 1 const [state, setState] = useState&amp;lt;string&amp;gt;(&#39;&#39;); 1 const { table, selection } = useT...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/adapter-pattern/" class="btn btn-outline-primary" prompt="Older"><p>어댑터 패턴 (Adapter Pattern)</p></a> <a href="/posts/builder-pattern/" class="btn btn-outline-primary" prompt="Newer"><p>빌더 패턴 (Builder Pattern)</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/keencho">keencho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
