<!DOCTYPE html><html lang="ko-KS" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="DB 뷰(View)" /><meta name="author" content="keencho" /><meta property="og:locale" content="ko_KS" /><meta name="description" content="1. 개요 데이터베이스 뷰는 현대의 데이터 중심 시스템에서 필수적인 요소로 자리잡았습니다. 데이터베이스 뷰는 데이터베이스 시스템에서 사용자들에게 편리한 인터페이스를 제공하고, 데이터를 효율적으로 조작하고 검색할 수 있는 기능을 제공합니다. 특히, PostgreSQL과 같은 강력한 관계형 데이터베이스에서 데이터베이스 뷰는 매우 유용한 도구입니다." /><meta property="og:description" content="1. 개요 데이터베이스 뷰는 현대의 데이터 중심 시스템에서 필수적인 요소로 자리잡았습니다. 데이터베이스 뷰는 데이터베이스 시스템에서 사용자들에게 편리한 인터페이스를 제공하고, 데이터를 효율적으로 조작하고 검색할 수 있는 기능을 제공합니다. 특히, PostgreSQL과 같은 강력한 관계형 데이터베이스에서 데이터베이스 뷰는 매우 유용한 도구입니다." /><link rel="canonical" href="https://keencho.github.io/posts/database-view/" /><meta property="og:url" content="https://keencho.github.io/posts/database-view/" /><meta property="og:site_name" content="keencho’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-05-23T08:12:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="DB 뷰(View)" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@keencho" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keencho"},"dateModified":"2023-05-24T10:50:58+09:00","datePublished":"2023-05-23T08:12:00+09:00","description":"1. 개요 데이터베이스 뷰는 현대의 데이터 중심 시스템에서 필수적인 요소로 자리잡았습니다. 데이터베이스 뷰는 데이터베이스 시스템에서 사용자들에게 편리한 인터페이스를 제공하고, 데이터를 효율적으로 조작하고 검색할 수 있는 기능을 제공합니다. 특히, PostgreSQL과 같은 강력한 관계형 데이터베이스에서 데이터베이스 뷰는 매우 유용한 도구입니다.","headline":"DB 뷰(View)","mainEntityOfPage":{"@type":"WebPage","@id":"https://keencho.github.io/posts/database-view/"},"url":"https://keencho.github.io/posts/database-view/"}</script><title>DB 뷰(View) | keencho's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="keencho's blog"><meta name="application-name" content="keencho's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/custom/keencho.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">keencho's blog</a></div><div class="site-subtitle font-italic">이것저것 정리하는 블로그.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/keencho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['seyoung050412','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>DB 뷰(View)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>DB 뷰(View)</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1684797120" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 23, 2023 </em> </span><div class="d-flex justify-content-between"> <span> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3709 words"> <em>20 min</em> read</span></div></div></div><div class="post-content"><h1 id="1-개요"><strong>1. 개요</strong></h1><p>데이터베이스 뷰는 현대의 데이터 중심 시스템에서 필수적인 요소로 자리잡았습니다. 데이터베이스 뷰는 데이터베이스 시스템에서 사용자들에게 편리한 인터페이스를 제공하고, 데이터를 효율적으로 조작하고 검색할 수 있는 기능을 제공합니다. 특히, PostgreSQL과 같은 강력한 관계형 데이터베이스에서 데이터베이스 뷰는 매우 유용한 도구입니다.</p><p>데이터베이스 뷰란 무엇일까요? 간단하게 말하면, 뷰는 하나 이상의 테이블에서 파생된 가상의 테이블입니다. 즉, 실제로 데이터를 저장하지 않고, 기존의 테이블에서 필요한 데이터를 조회하거나 가공하여 보여주는 역할을 합니다. 뷰는 쿼리의 결과를 미리 정의된 구조로 표시하고 필요한 조건에 따라 데이터를 제한하는 등의 기능을 수행할 수 있습니다.</p><h1 id="2-뷰의-장점"><strong>2. 뷰의 장점</strong></h1><h2 id="1-복잡한-쿼리-단순화"><span class="mr-2"><strong>1. 복잡한 쿼리 단순화</strong></span><a href="#1-복잡한-쿼리-단순화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>복잡한 조인이나 계산이 필요한 쿼리를 미리 정의된 뷰로 대체함으로써, 사용자는 간단한 쿼리만 작성하여 데이터를 추출하고 조작할 수 있습니다. 이는 개발자와 데이터 분석가가 작업을 더욱 효율적으로 수행할 수 있게 해줍니다.</p><h2 id="2-데이터의-보안과-접근-제어-강화"><span class="mr-2"><strong>2. 데이터의 보안과 접근 제어 강화</strong></span><a href="#2-데이터의-보안과-접근-제어-강화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>뷰를 사용하여 사용자에게 필요한 데이터만 노출하고, 민감한 정보를 숨길 수 있습니다. 데이터베이스의 보안 정책을 더욱 강력하게 구현할 수 있으며, 접근 권한을 통해 특정 사용자 또는 역할에게만 뷰를 제공할 수 있습니다.</p><h2 id="3-데이터의-일관성과-중복성을-관리하는데-도움이-됨"><span class="mr-2"><strong>3. 데이터의 일관성과 중복성을 관리하는데 도움이 됨</strong></span><a href="#3-데이터의-일관성과-중복성을-관리하는데-도움이-됨" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>여러 테이블에서 동일한 데이터를 사용해야 할 때, 뷰를 사용하여 중복 데이터를 피하고 일관된 데이터를 제공할 수 있습니다. 이는 데이터의 일관성을 유지하고, 데이터의 변경이 필요한 경우 뷰만 수정하면 되므로 유지 보수와 관리의 편의성을 높입니다.</p><h1 id="3-뷰의-단점"><strong>3. 뷰의 단점</strong></h1><h2 id="1-성능"><span class="mr-2"><strong>1. 성능</strong></span><a href="#1-성능" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>뷰는 가상의 테이블로써, 실제 데이터를 포함하고 있지 않으며 쿼리 실행 시 실제 데이터를 추출하여 결과를 반환합니다. 따라서 복잡한 뷰의 경우 성능 문제가 발생할 수 있습니다. 특히, 뷰에 대한 쿼리가 복잡하거나 데이터 양이 많은 경우에는 성능 저하가 발생할 수 있습니다.</p><h2 id="2-복잡성"><span class="mr-2"><strong>2. 복잡성</strong></span><a href="#2-복잡성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>뷰는 데이터베이스 시스템의 구조를 복잡하게 만들 수 있습니다. 여러 테이블을 조합하고 조인하여 뷰를 생성하는 경우, 데이터베이스 스키마가 복잡해지고 이해하기 어려워질 수 있습니다. 또한 뷰 자체가 다른 뷰에 의존하는 경우, 변경 사항을 추적하고 유지 관리하기가 어려울 수 있습니다.</p><h2 id="3-업데이트-제한"><span class="mr-2"><strong>3. 업데이트 제한</strong></span><a href="#3-업데이트-제한" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>일부 데이터베이스 시스템에서는 뷰를 통해 데이터를 업데이트하는 것을 제한합니다. 뷰가 여러 테이블의 조합이거나 특정 조건에 따라 데이터를 필터링하는 경우, 뷰를 통해 데이터를 직접 업데이트하는 것이 어려울 수 있습니다. 이 경우에는 대신 뷰를 구성하는 원본 테이블을 직접 업데이트해야 합니다.</p><h1 id="4-postgresql에서-뷰-생성하기"><strong>4. PostgreSQL에서 뷰 생성하기</strong></h1><p>PostgreSQL에서 뷰를 생성하는 방법은 간단합니다.</p><h3 id="1-create-view-문을-사용하여-뷰-생성"><span class="mr-2"><strong>1. CREATE VIEW 문을 사용하여 뷰 생성</strong></span><a href="#1-create-view-문을-사용하여-뷰-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>PostgreSQL에서는 CREATE VIEW 문을 사용하여 뷰를 생성합니다. 아래의 형식을 따라 뷰를 생성할 수 있습니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">view_name</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">column1</span><span class="p">,</span> <span class="n">column2</span><span class="p">,</span> <span class="p">...</span>
<span class="k">FROM</span> <span class="n">table1</span>
<span class="k">WHERE</span> <span class="n">condition</span><span class="p">;</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">view_name</code>: 생성할 뷰의 이름을 지정합니다.<li><code class="language-plaintext highlighter-rouge">column1, column2, ...</code>: 뷰에서 표시할 열의 이름을 지정합니다. 필요에 따라 테이블의 열이나 계산된 열을 선택할 수 있습니다.<li><code class="language-plaintext highlighter-rouge">table1</code>: 뷰를 생성할 기반이 되는 테이블의 이름을 지정합니다.<li><code class="language-plaintext highlighter-rouge">WHERE condition</code>: 뷰에 적용할 선택적인 조건을 지정합니다. 이를 통해 특정 데이터만 뷰에 표시할 수 있습니다.</ul><p>예를 들어, <code class="language-plaintext highlighter-rouge">employees</code> 테이블로부터 이름과 직급 정보만을 포함하는 <code class="language-plaintext highlighter-rouge">employee_view</code>라는 뷰를 생성하려면 다음과 같이 작성할 수 있습니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">employee_view</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">title</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="2-뷰-사용-권한-설정"><span class="mr-2"><strong>2. 뷰 사용 권한 설정</strong></span><a href="#2-뷰-사용-권한-설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰를 생성한 후, 해당 뷰에 대한 액세스 권한을 설정해야 합니다. 기본적으로 뷰를 생성한 사용자가 해당 뷰에 대한 액세스 권한을 가지게 됩니다. 그러나 다른 사용자나 역할에게도 뷰를 사용할 수 있는 권한을 주고 싶다면 <code class="language-plaintext highlighter-rouge">GRANT</code> 문을 사용하여 액세스 권한을 명시적으로 할당할 수 있습니다.</p><p><code class="language-plaintext highlighter-rouge">employee_view</code>에 대한 읽기 액세스 권한을 <code class="language-plaintext highlighter-rouge">user1</code> 사용자에게 주려면 다음과 같이 작성합니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">employee_view</span> <span class="k">TO</span> <span class="n">user1</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="3-뷰-사용"><span class="mr-2"><strong>3. 뷰 사용</strong></span><a href="#3-뷰-사용" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰가 생성되고 권한이 설정되었다면, 해당 뷰를 쿼리에서 사용할 수 있습니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>SELECT * FROM employee_view;
</pre></table></code></div></div><p>뷰를 사용할때는 몇가지 사항을 고려해야 합니다.</p><ul><li>뷰는 기존의 테이블을 기반으로 생성되므로, 뷰에 대한 변경은 실제 테이블에 영향을 주지 않습니다.<li>뷰는 데이터를 저장하지 않고 실시간으로 데이터를 조회하므로, 뷰를 통해 변경된 데이터는 실제 테이블에 반영되지 않습니다.<li>뷰는 복잡한 쿼리의 단순화나 데이터의 가공을 위해 사용되지만, 성능 저하의 가능성도 있습니다. 큰 데이터셋이나 복잡한 조인이 있는 경우 성능에 영향을 줄 수 있으므로 주의해야 합니다.</ul><h1 id="5-뷰의-사용-사례"><strong>5. 뷰의 사용 사례</strong></h1><p>데이터베이스에서 뷰는 실제로 유용하게 활용됩니다. 몇가지 대표적인 사례를 소개하고 각각에 대한 설명과 실제 쿼리를 살펴보겠습니다.</p><h3 id="1-복잡한-쿼리-단순화-1"><span class="mr-2"><strong>1. 복잡한 쿼리 단순화</strong></span><a href="#1-복잡한-쿼리-단순화-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰를 사용하면 복잡한 쿼리를 단순화할 수 있습니다. 여러 개의 테이블 간 조인이 필요한 쿼리를 미리 정의된 뷰로 대체하여, 사용자는 간단한 쿼리만 작성하여 결과를 얻을 수 있습니다.</p><p>예를 들어, <code class="language-plaintext highlighter-rouge">orders</code>와 <code class="language-plaintext highlighter-rouge">customers</code> 테이블이 있을 때, 주문 정보와 고객 정보를 함께 조회하는 복잡한 쿼리를 뷰로 단순화할 수 있습니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">order_details</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">o</span><span class="p">.</span><span class="n">order_id</span><span class="p">,</span> <span class="n">o</span><span class="p">.</span><span class="n">order_date</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">customer_name</span>
<span class="k">FROM</span> <span class="n">orders</span> <span class="n">o</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">customers</span> <span class="k">c</span> <span class="k">ON</span> <span class="n">o</span><span class="p">.</span><span class="n">customer_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">customer_id</span><span class="p">;</span>
</pre></table></code></div></div><p>이제 <code class="language-plaintext highlighter-rouge">order_details</code> 뷰를 사용하여 간단하게 주문 정보와 고객 정보를 조회할 수 있습니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">order_details</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="2-데이터-보안-강화"><span class="mr-2"><strong>2. 데이터 보안 강화</strong></span><a href="#2-데이터-보안-강화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰를 사용하여 데이터의 보안을 강화할 수 있습니다. 민감한 정보가 포함된 테이블을 직접 노출하지 않고, 필요한 열만 포함하여 사용자에게 제공할 수 있습니다.</p><p>예를 들어, <code class="language-plaintext highlighter-rouge">employees</code> 테이블에는 연봉 정보가 포함되어 있습니다. 그러나 일반 사용자에게는 연봉 정보를 숨기고 이름과 직급 정보만을 제공하고 싶다면 다음과 같이 뷰를 생성할 수 있습니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">employee_info</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">title</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
</pre></table></code></div></div><p>이제 <code class="language-plaintext highlighter-rouge">employee_info</code> 뷰를 통해 직원의 이름과 직급 정보만을 조회할 수 있으며, 연봉 정보는 숨겨져 있습니다.</p><h3 id="3-데이터-가공-및-형식-변환"><span class="mr-2"><strong>3. 데이터 가공 및 형식 변환</strong></span><a href="#3-데이터-가공-및-형식-변환" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰를 사용하여 데이터를 가공하거나 형식을 변환할 수 있습니다. 특정 형식으로 변환된 데이터를 필요로 하는 경우, 뷰를 사용하여 원본 데이터를 변환된 형식으로 제공할 수 있습니다.</p><p>예를 들어, <code class="language-plaintext highlighter-rouge">sales</code> 테이블에는 날짜와 판매량이 포함되어 있습니다. 특정 형식으로 날짜를 표시하고자 할 때, 뷰를 사용하여 변환된 날짜 형식으로 데이터를 제공할 수 있습니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">sales_summary</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">TO_CHAR</span><span class="p">(</span><span class="n">sale_date</span><span class="p">,</span> <span class="s1">'YYYY-MM-DD'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">formatted_date</span><span class="p">,</span> <span class="n">quantity</span>
<span class="k">FROM</span> <span class="n">sales</span><span class="p">;</span>
</pre></table></code></div></div><p>이제 <code class="language-plaintext highlighter-rouge">sales_summary</code> 뷰를 통해 형식이 변환된 날짜와 판매량을 조회할 수 있습니다.</p><h1 id="6-성능-고려-사항"><strong>6. 성능 고려 사항</strong></h1><p>데이터베이스 뷰는 유용한 도구지만, 잘못 사용하거나 설계하지 않으면 성능 저하의 가능성이 있습니다. 이제 데이터베이스 뷰를 사용할 때 고려해야 할 성능 측면에 대해 다루고, 성능을 향상시킬 수 있는 방법에 대해 알아보겠습니다.</p><h3 id="1-조인과-쿼리-복잡성"><span class="mr-2"><strong>1. 조인과 쿼리 복잡성</strong></span><a href="#1-조인과-쿼리-복잡성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰를 생성할 때 조인 연산이 포함된 복잡한 쿼리를 사용한다면 성능 저하가 발생할 수 있습니다. 조인이 많거나 복잡한 쿼리는 처리 시간을 증가시킬 수 있으므로, 필요한 경우 쿼리를 최적화하고 인덱스를 활용하는 것이 중요합니다.</p><ul><li>인덱스 활용: 뷰의 성능을 향상시키기 위해 뷰에 사용된 열에 인덱스를 생성할 수 있습니다. 이는 조인 조건이나 필터링 조건에 사용되는 열에 인덱스를 생성하는 것과 동일한 원리입니다. 당연히 뷰 자체에 인덱스를 생성할 순 없습니다.</ul><h3 id="2-뷰-재작성"><span class="mr-2"><strong>2. 뷰 재작성</strong></span><a href="#2-뷰-재작성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>데이터베이스의 기본 테이블이 변경될 때, 뷰의 정의를 재작성하는 것이 성능 향상에 도움이 될 수 있습니다. 변경된 데이터에 대한 최신 정보를 유지하고 뷰의 쿼리 실행 계획을 최적화하기 위해 뷰를 재작성하는 것이 좋습니다.</p><blockquote><p>일부 데이터베이스 시스템은 뷰를 자동으로 재작성하는 기능을 제공합니다. 이를 활용하여 데이터 변경 시 자동으로 뷰를 갱신하도록 설정할 수 있습니다.</p></blockquote><h3 id="3-쿼리-최적화"><span class="mr-2"><strong>3. 쿼리 최적화</strong></span><a href="#3-쿼리-최적화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰를 사용하는 쿼리의 성능을 향상시키기 위해 쿼리 최적화를 고려해야 합니다. 쿼리 실행 계획을 분석하고 성능 향상을 위해 적절한 인덱스를 생성하거나 쿼리 튜닝을 수행하는 것이 중요합니다.</p><blockquote><p>데이터베이스 시스템은 쿼리 실행 계획을 제공하여 쿼리의 실행 계획을 분석할 수 있습니다. 이를 통해 비효율적인 연산이나 조인을 확인하고 최적화할 수 있습니다.</p></blockquote><h3 id="4-제약-사항-고려"><span class="mr-2"><strong>4. 제약 사항 고려</strong></span><a href="#4-제약-사항-고려" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>뷰를 사용할 때 주의해야 할 제약 사항도 고려해야 합니다. 예를 들어, 뷰의 정의에 사용된 테이블이나 열이 변경되거나 삭제되면 뷰가 올바르게 동작하지 않을 수 있습니다. 이에 대비하여 뷰를 사용하기 전에 제약 사항을 확인하고 유지보수에 주의해야 합니다.</p><h1 id="7-마무리"><strong>7. 마무리</strong></h1><p>데이터베이스 뷰를 사용하면 복잡한 쿼리를 단순화하고, 보안을 강화하며, 데이터를 가공하거나 형식을 변환할 수 있습니다. 뷰는 사용자에게 필요한 데이터를 간편하게 제공하며, 중복 데이터를 제거하여 일관성을 유지합니다. 또한, 데이터베이스의 성능을 향상시키기 위해 인덱스를 활용하거나 뷰를 재작성하는 등의 방법을 적용할 수 있습니다.</p><p>뷰를 적절히 활용하면 데이터베이스 작업을 효율적으로 수행할 수 있습니다. 복잡한 쿼리를 단순화하여 개발자와 사용자 모두의 작업을 간편하게 만들고, 데이터의 보안과 일관성을 유지할 수 있습니다. 또한, 성능을 향상시키기 위해 쿼리를 최적화하고 인덱스를 활용하는 등의 방법을 적용하여 데이터베이스의 응답 시간을 줄일 수 있습니다.</p><p>데이터베이스 뷰는 데이터 관리와 분석 작업에 있어 필수적인 도구입니다. 우리는 이제 뷰의 개념, 생성 방법, 사용 사례, 성능 고려 사항 등을 다루며 데이터베이스 뷰의 활용에 대해 배웠습니다. 이제 여러분은 데이터베이스 뷰를 효과적으로 활용하여 더 나은 데이터 관리와 분석을 실현할 수 있을 것입니다.</p><p>데이터베이스 뷰의 중요성을 인지하고, 적절한 상황에서 뷰를 적용하여 데이터베이스 작업을 더욱 효율적으로 수행할 수 있도록 노력해보세요. 데이터베이스 뷰는 데이터의 가시성과 일관성을 제공하며, 데이터 관리와 분석의 효율성을 높여줄 것입니다.</p><h1 id="끄적끄적"><strong>끄적끄적..</strong></h1><p>이 글은 <a href="https://github.com/hibernate/hibernate-orm/pull/6614">Hibernate ‘introduce @View annotation’ PR</a>을 보고 삘받아서 정리한 글입니다. 2023년에 ORM에서 뷰를 사용할수 있게 될수도 있다는 것에 좋아하는게 맞나 모르겠지만… 일단은 좋습니다. 나오면 얼른 사용해보고 싶네요.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/database/'>Database</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/database/" class="post-tag no-text-decoration" >Database</a> <a href="/tags/postgresql/" class="post-tag no-text-decoration" >PostgreSQL</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DB+%EB%B7%B0%28View%29+-+keencho%27s+blog&url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fdatabase-view%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DB+%EB%B7%B0%28View%29+-+keencho%27s+blog&u=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fdatabase-view%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fdatabase-view%2F&text=DB+%EB%B7%B0%28View%29+-+keencho%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-flush/">JPA & Hibernate Flush Mode</a><li><a href="/posts/aws-cicd-1/">AWS를 사용해 무중단 배포 자동화 환경 구축하기 - 1. 개요</a><li><a href="/posts/terraform-aws-infra-6/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 6. 운영환경 (백엔드)</a><li><a href="/posts/aapt2-arm/">Arm 아키텍처에서 AAPT2 빌드 도구 사용하기</a><li><a href="/posts/terraform-aws-infra-1/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 1. 개요</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/hibernate-postgresql-jsonb/"><div class="card-body"> <em class="small" data-ts="1677409920" data-df="ll" > Feb 26, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hibernate 에서 PostgreSQL JSONB 다루기</h3><div class="text-muted small"><p> Hibernate 에서 PostgreSQL JSONB 다루기 Hibnerate6 이전 버전에서 PostgreSQL의 JSONB 타입을 다루기 위해선 직접 UserType 인터페이스를 구현하거나 이런 라이브러리 를 사용하여 JSONB 타입을 다뤘었습니다. Hibernate6 부터는 이러한 기능을 표준으로 제공하기 시작하여 JSON 컬럼을 entity의...</p></div></div></a></div><div class="card"> <a href="/posts/database-transaction-isolation-level/"><div class="card-body"> <em class="small" data-ts="1648033920" data-df="ll" > Mar 23, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Transaction Isolation</h3><div class="text-muted small"><p> 트랜잭션 트랜잭션 관리는 데이터베이스와 통신하는 코드를 작성하는 백엔드 개발자라면 누구에게나 중요한 항목입니다. 트랜잭션의 옵션에 따라 성능이 크게 향상될수 있고 메소드 내부에서 일어나는 예외 상황이 달라질수 있기 때문입니다. 따라서 트랜잭션을 이해하고 설정하는 것이 정말 중요하다고 할수 있습니다. Isolation level option Isola...</p></div></div></a></div><div class="card"> <a href="/posts/transactional-think/"><div class="card-body"> <em class="small" data-ts="1751022720" data-df="ll" > Jun 27, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JPA Transactional 점검하기</h3><div class="text-muted small"><p> JPA Transactional 점검하기 JPA를 다루는 개발자라면 Transactional의 동작 원리를 정확히 이해해야 한다. 하지만 솔직히 말하면, 프로젝트 초기에 세운 가이드라인을 처음에는 잘 지켰지만 개발이 진행되면서 점점 일단 @Transactional 붙이고 보자는 식으로 습관적으로 사용했던 적이 많다. 당연히 이런 무분별한 사용은 여러 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/java-concurrency-programming/" class="btn btn-outline-primary" prompt="Older"><p>자바 동시성 프로그래밍 - 메모리 모델과 동기화부터 고급 기법까지</p></a> <a href="/posts/ffi/" class="btn btn-outline-primary" prompt="Newer"><p>FFI</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/keencho">keencho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
