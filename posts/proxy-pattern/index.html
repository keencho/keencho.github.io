<!DOCTYPE html><html lang="ko-KS" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="프록시 패턴 (Proxy Pattern)" /><meta name="author" content="keencho" /><meta property="og:locale" content="ko_KS" /><meta name="description" content="프록시 패턴 프록시(Proxy) 는 대리자 라는 뜻입니다. 실생활서의 의미처럼 프로그램에서의 프록시도 누군가에게 어떤 일을 대신 시키는 것 이란 의미를 가지고 있습니다." /><meta property="og:description" content="프록시 패턴 프록시(Proxy) 는 대리자 라는 뜻입니다. 실생활서의 의미처럼 프로그램에서의 프록시도 누군가에게 어떤 일을 대신 시키는 것 이란 의미를 가지고 있습니다." /><link rel="canonical" href="https://keencho.github.io/posts/proxy-pattern/" /><meta property="og:url" content="https://keencho.github.io/posts/proxy-pattern/" /><meta property="og:site_name" content="keencho’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-03T20:12:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="프록시 패턴 (Proxy Pattern)" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@keencho" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keencho"},"dateModified":"2022-02-13T15:49:22+09:00","datePublished":"2021-07-03T20:12:00+09:00","description":"프록시 패턴 프록시(Proxy) 는 대리자 라는 뜻입니다. 실생활서의 의미처럼 프로그램에서의 프록시도 누군가에게 어떤 일을 대신 시키는 것 이란 의미를 가지고 있습니다.","headline":"프록시 패턴 (Proxy Pattern)","mainEntityOfPage":{"@type":"WebPage","@id":"https://keencho.github.io/posts/proxy-pattern/"},"url":"https://keencho.github.io/posts/proxy-pattern/"}</script><title>프록시 패턴 (Proxy Pattern) | keencho's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="keencho's blog"><meta name="application-name" content="keencho's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/custom/keencho.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">keencho's blog</a></div><div class="site-subtitle font-italic">이것저것 정리하는 블로그.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/keencho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['seyoung050412','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>프록시 패턴 (Proxy Pattern)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>프록시 패턴 (Proxy Pattern)</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1625310720" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 3, 2021 </em> </span><div class="d-flex justify-content-between"> <span> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2077 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h1 id="프록시-패턴"><strong>프록시 패턴</strong></h1><p>프록시(Proxy) 는 <code class="language-plaintext highlighter-rouge">대리자</code> 라는 뜻입니다. 실생활서의 의미처럼 프로그램에서의 프록시도 <code class="language-plaintext highlighter-rouge">누군가에게 어떤 일을 대신 시키는 것</code> 이란 의미를 가지고 있습니다.</p><p>때때로 우리는 객체에 대한 액세스를 제어하는 기능을 필요합니다. 예를 들어 무겁고 많은 자원을 필요로 하는 클래스의 한두가지 메소드만 사용해야 하더라도 생성자로 전체 클래스를 인스턴스화 합니다. 이 시점에 프록시 패턴을 사용할 수 있습니다. <code class="language-plaintext highlighter-rouge">무거운 객체가 상속하고 있는 인터페이스를 상속하는 가벼운 객체를 하나 만드는 방식</code>입니다. 이때 가벼운 객체를 <code class="language-plaintext highlighter-rouge">프록시</code> 라고 하며 우리는 이 가벼운 객체를 인스턴스화하여 사용하고 실제 무거운 행위를 하는 메소드는 정말 그 메소드가 필요한 시점에 호출할 것입니다.</p><h2 id="적용-가능한-경우"><span class="mr-2"><strong>적용 가능한 경우</strong></span><a href="#적용-가능한-경우" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>지연 초기화(가상 프록시) - 가끔 필요하지만 항상 메모리에 적재되어 있는 무거운 서비스 객체가 있는 경우<ul><li>서비스가 시작될 때 객체를 생성하는 대신에 객체 초기화가 실제로 필요한 시점에 초기화될수 있도록 지연할 수 있습니다.</ul><li>액세스 제어(보호 프록시) - 특정 클라이언트만 서비스 객체에 접근 가능하도록 하려는 경우<ul><li>프록시 객체를 통해 클라이언트의 자격 증명이 기준과 일치하는 경우에만 서비스 객체에 요청을 전달할 수 있습니다.</ul><li>원격 서비스의 로컬 실행(리모트 프록시) - 서비스 객체가 원격 서버에 위치해 있는 경우<ul><li>프록시 객체는 네트워크를 통해 클라이언트의 요청을 전달하여 네트워크와 관련된 불필요한 작업들을 처리하고 결과값만 반환합니다.</ul><li>로깅 요청(로깅 프록시) - 서비스 객체에 대한 기록을 유지하려는 경우<ul><li>프록시 객체는 서비스 객체에 요청을 전달하기 요청을 기록할 수 있습니다.</ul><li>캐싱 요청 결과(캐싱 프록시) - 서비스 객체의 결과값이 큰 경우 프록시는 클라이언트 요청의 결과를 캐싱하고 이 캐시의 수명 주기를 관리해야 하는 경우<ul><li>프록시는 항상 동일한 결과를 생성하는 반복 요청에 대해 캐싱을 구현할 수 있습니다. 또 클라이언트 요청의 매개변수를 캐시 키로 사용할 수 있습니다.</ul><li>스마트 참조 - 무거운 객체를 사용하는 클라이언트가 없을 때 메모리에서 해제해야 하는 경우<ul><li>프록시는 서비스 객체의 결과에 대한 참조를 얻은 클라이언트를 추저할 수 있습니다. 때때로 프록시는 클라이언트로 넘어와 아직 클라이언트가 활성 상태인지 확인합니다. 만약 클라이언트의 리스트가 비어있을 경우 프록시는 서비스 객체를 종료하고 불필요한 시스템 자원을 메모리에서 해제할 수 있습니다.</ul></ol><h2 id="장단점"><span class="mr-2"><strong>장단점</strong></span><a href="#장단점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h4 id="장점"><span class="mr-2"><strong>장점</strong></span><a href="#장점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li>클라이언트가 알지 못하는 상태에서 서비스 객체를 제어할 수 있습니다.<li>클라이언트가 신경쓰지 않을 때 서비스 객채의 생명 주기를 관리할 수 있습니다.<li>프록시는 서비스 객체가 준비되지 않았거나 사용할 수 없을때도 작동합니다.<li>OCP(개방-폐쇄 원칙)에 따라 서비스나 클라이언트를 변경하지 않고 새 프록시를 생성할 수 있습니다.</ol><h4 id="단점"><span class="mr-2"><strong>단점</strong></span><a href="#단점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li>많은 프록시 클래스를 생성해야 하므로 코드가 더 복잡해질 수 있습니다.<li>프록시 클래스 자체에 들어가는 자원이 많다면 서비스로부터의 응답이 오히려 늦어질 수 있습니다.</ol><h2 id="예제"><span class="mr-2"><strong>예제</strong></span><a href="#예제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>이미지 뷰어 프로그램을 만들어보겠습니다. 이미지 뷰어는 다음과 같은 동작을 수행합니다.</p><blockquote><p>이미지 뷰어는 고해상도의 이미지를 불러와 사용자에게 보여줘야 합니다. 사용자가 목록에서 이미지를 선택하기 전까지 실제 이미지를 표시할 필요는 없습니다.</p></blockquote><p><img data-src="/assets/img/custom/design-pattern/proxy/diagram.png" alt="diagram" data-proofer-ignore></p><p>다음 코드는 이미지 인터페이스 입니다. 이미지를 렌더링하기 위해 구현체가 구현해야 하는 추상메소드 showImage()가 있습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Image</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">showImage</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음 코드는 우리가 현재 사용하고 있는 이미지 인터페이스의 구현체입니다. 디스크에서 고해상도 이미지를 불러와 메모리에 적재하고 showImage()가 호출되면 화면에 렌더링 합니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HighResolutionImage</span> <span class="kd">implements</span> <span class="nc">Image</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">HighResolutionImage</span><span class="o">(</span><span class="nc">String</span> <span class="n">path</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">loadImage</span><span class="o">(</span><span class="n">path</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">loadImage</span><span class="o">(</span><span class="nc">String</span> <span class="n">path</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 이미지를 디스크에서 불러와 메모리에 적재</span>
        <span class="c1">// 작업 자체가 무겁고 많은 자원을 필요로함</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">showImage</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// 이미지를 화면에 렌더링</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음 코드는 이미지 뷰어 메인 클래스입니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ImageViewer</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Image</span> <span class="n">highResolutionImage1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HighResolutionImage</span><span class="o">(</span><span class="s">"highResolutionImage1"</span><span class="o">);</span>
        <span class="nc">Image</span> <span class="n">highResolutionImage2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HighResolutionImage</span><span class="o">(</span><span class="s">"highResolutionImage2"</span><span class="o">);</span>
        <span class="nc">Image</span> <span class="n">highResolutionImage3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HighResolutionImage</span><span class="o">(</span><span class="s">"highResolutionImage3"</span><span class="o">);</span>

        <span class="n">highResolutionImage2</span><span class="o">.</span><span class="na">showImage</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>사용자가 3개의 이미지가 있는 폴더를 선택하였습니다. 사용자가 어떤 이미지를 선택할지 몰라 모든 이미지를 인스턴스화 하였습니다. 실제로는 highResolutionImage2 만 사용자에게 보여줘야 함에도 불구하고 <code class="language-plaintext highlighter-rouge">HighResolutionImage</code> 클래스의 생성자에 의해 모든 이미지는 <code class="language-plaintext highlighter-rouge">loadImage()</code> 메소드를 호출하게 됩니다. 이 시점에서 불필요한 자원낭비가 발생하였습니다.</p><p>자, 이제 이미지 인터페이스를 구현하는 가벼운 프록시 클래스를 만들어보겠습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ImageProxy</span> <span class="kd">implements</span> <span class="nc">Image</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">path</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Image</span> <span class="n">proxyImage</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ImageProxy</span><span class="o">(</span><span class="nc">String</span> <span class="n">path</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">showImage</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">proxyImage</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HighResolutionImage</span><span class="o">(</span><span class="n">path</span><span class="o">);</span>

        <span class="n">proxyImage</span><span class="o">.</span><span class="na">showImage</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>이 클래스는 <code class="language-plaintext highlighter-rouge">showImage()</code> 메소드가 호출되는 시점에 <code class="language-plaintext highlighter-rouge">HighResolutionImage</code> 클래스를 인스턴스화 합니다.</p><p>이미지 뷰어 메인 클래스의 코드를 변경하겠습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ImageViewer</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Image</span> <span class="n">proxyHighResolutionImage1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageProxy</span><span class="o">(</span><span class="s">"highResolutionImage1"</span><span class="o">);</span>
        <span class="nc">Image</span> <span class="n">proxyHighResolutionImage2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageProxy</span><span class="o">(</span><span class="s">"highResolutionImage2"</span><span class="o">);</span>
        <span class="nc">Image</span> <span class="n">proxyHighResolutionImage3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageProxy</span><span class="o">(</span><span class="s">"highResolutionImage3"</span><span class="o">);</span>

        <span class="n">proxyHighResolutionImage1</span><span class="o">.</span><span class="na">showImage</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>객체의 타입은 <code class="language-plaintext highlighter-rouge">Image</code> 로 동일하지만 <code class="language-plaintext highlighter-rouge">HighResolutionImage</code> 클래스 대신 <code class="language-plaintext highlighter-rouge">ImageProxy</code> 객체로 인스턴스화 하였습니다.</p><p>첫번째 메인 클래스의 경우와는 다르게 객체를 인스턴스화 하는 시점에 <code class="language-plaintext highlighter-rouge">HighResolutionImage</code> 클래스의 <code class="language-plaintext highlighter-rouge">loadImage()</code> 메소드를 호출하지 않습니다. <code class="language-plaintext highlighter-rouge">proxyHighResolutionImage1.showImage()</code>를 호출하는 시점에 <code class="language-plaintext highlighter-rouge">loadImage()</code> 메소드를 호출하게 됩니다. 실제 메소드를 호출하는 시점에 메모리 적재가 이루어지기 때문에 불필요한 자원낭비가 발생하지 않게 됩니다.</p><h3 id="결론"><span class="mr-2"><strong>결론</strong></span><a href="#결론" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>프록시 패턴은 많은 곳에서 쓰이고 있습니다. 핵심은 <code class="language-plaintext highlighter-rouge">클라이언트 -&gt; 프록시 -&gt; 실제 객체</code> 로 구성된 구조라는 점입니다. 매우 간단한 패턴이지만 자칫 잘못하면 불필요한 코드로 오히려 복잡해 질수 있으니 적재적소에 활용하는 편일 좋을것 같습니다.</p><h3 id="참조"><span class="mr-2"><strong>참조</strong></span><a href="#참조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p><a href="https://refactoring.guru/design-patterns/proxy">https://refactoring.guru/design-patterns/proxy</a> <a href="https://www.oodesign.com/proxy-pattern.html">https://www.oodesign.com/proxy-pattern.html</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-pattern/'>Design Pattern</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-pattern/" class="post-tag no-text-decoration" >Design Pattern</a> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%ED%94%84%EB%A1%9D%EC%8B%9C+%ED%8C%A8%ED%84%B4+%28Proxy+Pattern%29+-+keencho%27s+blog&url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fproxy-pattern%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%ED%94%84%EB%A1%9D%EC%8B%9C+%ED%8C%A8%ED%84%B4+%28Proxy+Pattern%29+-+keencho%27s+blog&u=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fproxy-pattern%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fproxy-pattern%2F&text=%ED%94%84%EB%A1%9D%EC%8B%9C+%ED%8C%A8%ED%84%B4+%28Proxy+Pattern%29+-+keencho%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-flush/">JPA & Hibernate Flush Mode</a><li><a href="/posts/aws-cicd-1/">AWS를 사용해 무중단 배포 자동화 환경 구축하기 - 1. 개요</a><li><a href="/posts/terraform-aws-infra-6/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 6. 운영환경 (백엔드)</a><li><a href="/posts/aapt2-arm/">Arm 아키텍처에서 AAPT2 빌드 도구 사용하기</a><li><a href="/posts/terraform-aws-infra-1/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 1. 개요</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/singleton-pattern/"><div class="card-body"> <em class="small" data-ts="1625569920" data-df="ll" > Jul 6, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>싱글턴 패턴 (Singleton Pattern)</h3><div class="text-muted small"><p> 싱글턴 패턴 싱글턴 패턴은 생성자가 여러 차례 호출되더라도 실제로 생성되는 객체는 하나이고 최초 생성 이후 호출된 생성자는 최초의 생성자가 생성한 객체를 리턴하는 디자인 유형입니다. 구조 싱글턴 클래스는 자체 클래스의 동일한 인스턴스를 반환하는 getInstance() 라는 정적 메소드를 선언했습니다. 싱글턴의 생성자는 ...</p></div></div></a></div><div class="card"> <a href="/posts/observer-pattern/"><div class="card-body"> <em class="small" data-ts="1625829120" data-df="ll" > Jul 9, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>옵저버 패턴 (Observer Pattern)</h3><div class="text-muted small"><p> 옵저버 패턴 옵저버 패턴은 객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메스드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는 디자인 패턴입니다. 구조 게시자는 다른 객체들에게 관심 이벤트를 발행합니다. 이 이벤트난 게시자가 상태를 변경하거나 어떤 동작을 실행할 때 발생합니...</p></div></div></a></div><div class="card"> <a href="/posts/iterator-pattern/"><div class="card-body"> <em class="small" data-ts="1626520320" data-df="ll" > Jul 17, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>반복자 패턴 (Iterator Pattern)</h3><div class="text-muted small"><p> 반복자 패턴 반복자 패턴은 객체지향 프로그래밍에서 반복자를 사용하여 컨테이너를 가로지르며 컨테이너의 요소들에 접근하는 디자인 패턴입니다… 라고 위키에는 나와 있습니다만 한번에 이해되지는 않습니다. 1 2 3 4 5 String[] stringArray = {&quot;월&quot;, &quot;화&quot;, &quot;수&quot;, &quot;목&quot;, &quot;금&quot;, &quot;토&quot;, &quot;일&quot;}; for (int i = 0; ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/aws-cicd-4/" class="btn btn-outline-primary" prompt="Older"><p>AWS를 사용해 무중단 배포 자동화 환경 구축하기 - 4. 어플리케이션 구축 및 로드밸런서 적용</p></a> <a href="/posts/singleton-pattern/" class="btn btn-outline-primary" prompt="Newer"><p>싱글턴 패턴 (Singleton Pattern)</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/keencho">keencho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
