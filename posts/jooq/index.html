<!DOCTYPE html><html lang="ko-KS" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="JOOQ 알아보기" /><meta name="author" content="keencho" /><meta property="og:locale" content="ko_KS" /><meta name="description" content="JOOQ" /><meta property="og:description" content="JOOQ" /><link rel="canonical" href="https://keencho.github.io/posts/jooq/" /><meta property="og:url" content="https://keencho.github.io/posts/jooq/" /><meta property="og:site_name" content="keencho’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-04-19T08:12:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JOOQ 알아보기" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@keencho" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keencho"},"dateModified":"2023-04-19T08:12:00+09:00","datePublished":"2023-04-19T08:12:00+09:00","description":"JOOQ","headline":"JOOQ 알아보기","mainEntityOfPage":{"@type":"WebPage","@id":"https://keencho.github.io/posts/jooq/"},"url":"https://keencho.github.io/posts/jooq/"}</script><title>JOOQ 알아보기 | keencho's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="keencho's blog"><meta name="application-name" content="keencho's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/custom/keencho.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">keencho's blog</a></div><div class="site-subtitle font-italic">이것저것 정리하는 블로그.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/keencho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['seyoung050412','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>JOOQ 알아보기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>JOOQ 알아보기</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1681859520" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 19, 2023 </em> </span><div class="d-flex justify-content-between"> <span> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3100 words"> <em>17 min</em> read</span></div></div></div><div class="post-content"><h1 id="jooq"><strong>JOOQ</strong></h1><h2 id="jooq란"><span class="mr-2"><strong>JOOQ란?</strong></span><a href="#jooq란" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>JOOQ(Java Oriented Querying)는 Java를 사용하여 안전한 SQL 쿼리를 작성할 수 있도록 하는 데이터베이스 쿼리 프레임워크 입니다. 개발자가 SQL 쿼리를 보다 직관적이고 자연스럽게 작성할 수 있도록 하며 type-safe한 API를 제공합니다. 이를 통해 컴파일시 오류를 발견 / 수정할 수 있습니다.</p><p>JOOQ는 PostgreSQL, Oracle, MySQL과 같은 관계형 데이터베이스들을 지원합니다. NoSQL은 기본적으로 지원하지 않습니다. 일부 제한적인 기능을 제공하긴 하는데 그럴빠에야 <code class="language-plaintext highlighter-rouge">Spring Data MongoDB</code> 와 같이 해당 영역에 특화된 프레임워크를 사용하는게 좋습니다.</p><p>JOOQ는 단순 쿼리 작업 외에도 데이터베이스 스키마 생성, 코드 생성 및 기타 데이터베이스 관련 작업을 지원하므로 Java에서 데이터베이스 기반 애플리케이션을 구축하는데 유용한 도구입니다.</p><h2 id="jooq-vs-querydsl"><span class="mr-2"><strong>JOOQ vs Querydsl</strong></span><a href="#jooq-vs-querydsl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>JOOQ과 Querydsl은 개발자가 type-safe한 SQL 쿼리를 작성할 수 있도록 한다는 공통점이 있습니다. 그러나 두 프레임워크 사이에는 몇가지 차이점이 있습니다.</p><ol><li>DSL 구문<ul><li>JOOQ는 SQL 구문을 기반으로 DSL을 사용합니다.<li>Querydsl은 Java 구문을 기반으로 하는 DSL을 사용합니다.</ul><li>지원 범위<ul><li>JOOQ는 관계형 데이터베이스들을 중점으로 지원합니다.<li>Querydsl은 관계형 데이터베이스와 비관계형 데이터베이스(NoSQL)을 모두 지원합니다.</ul><li>코드 생성<ul><li>JOOQ는 데이터베이스 스키마를 기반으로 Java 클래스를 생성합니다.<li>QueryDSL은 자바 코드를 바탕으로 Java 클래스를 생성합니다.</ul></ol><h2 id="그래서-둘중-무엇을-선택해야-하는가"><span class="mr-2"><strong>그래서 둘중 무엇을 선택해야 하는가?</strong></span><a href="#그래서-둘중-무엇을-선택해야-하는가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>사실 개인적인 생각으론 JOOQ와 Querydsl를 비교하는건 잘못됐다고 생각합니다. 어떤 Persistence Framework를 선택했느냐(<code class="language-plaintext highlighter-rouge">ORM</code>이냐 <code class="language-plaintext highlighter-rouge">SQL</code>이냐) 에 따라 달라지기 때문이죠.</p><p>스프링 기반 웹 어플리케이션을 개발할때 관계형 데이터베이스를 사용한다면 Persistence Framework로 ORM 혹은 SQL Mapper를 선택합니다. ORM의 경우 <code class="language-plaintext highlighter-rouge">Hibernate - Spring Data JPA - Querydsl</code>조합을 사용하고 SQL Mapper의 경우 <code class="language-plaintext highlighter-rouge">MyBatis</code>를 사용합니다. SQL Mapper 를 선택했다면 JOOQ는 MyBatis 대신 사용할 수 있는 프레임워크라고 할 수 있습니다. XML 기반인 MyBatis와 다르게 Java로 type-safe하게 쿼리를 작성할 수 있기 때문이죠.</p><p>따라서 만약 개발중인 어플리케이션이 MyBatis를 사용하고 type-safe하게 쿼리를 작성할 수 있는 프레임워크를 찾고있다면 JOOQ는 완벽한 프레임워크라고 볼 수 있습니다. ORM을 사용한다면 비즈니스 로직에는 <code class="language-plaintext highlighter-rouge">Hibernate - Spring Data JPA - Querydsl</code>조합을 사용하고 통계성 데이터나 대용량 배치 작업을 할때, 혹은 native query가 필요할 때 JOOQ를 사용하는 것이 좋다고 생각합니다.</p><h1 id="spring-boot에서-jooq-사용하기"><strong>Spring Boot에서 JOOQ 사용하기</strong></h1><p>Spring Boot 에서 JOOQ를 사용하는 방법에 대해 알아보도록 하겠습니다.</p><h2 id="1환경설정"><span class="mr-2"><strong>1.환경설정</strong></span><a href="#1환경설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>빌드 도구는 maven을 사용하며 db는 PostgreSQL을 사용합니다.</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-jooq<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.0.5<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>

    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.postgresql<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>postgresql<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>42.6.0<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.0.5<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></table></code></div></div><p>다음으로 테이블을 생성합니다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">author</span> <span class="p">(</span>
                        <span class="n">id</span>             <span class="nb">SERIAL</span>          <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
                        <span class="n">first_name</span>     <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
                        <span class="n">last_name</span>      <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>     <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">book</span> <span class="p">(</span>
                      <span class="n">id</span>             <span class="nb">SERIAL</span>          <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
                      <span class="n">title</span>          <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>    <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">author_book</span>
<span class="p">(</span>
    <span class="n">author_id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">book_id</span>   <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>

    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">author_id</span><span class="p">,</span> <span class="n">book_id</span><span class="p">),</span>
    <span class="k">CONSTRAINT</span> <span class="n">fk_ab_author</span> <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">author_id</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">author</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
        <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">CASCADE</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
    <span class="k">CONSTRAINT</span> <span class="n">fk_ab_book</span> <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">book_id</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">book</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>
</pre></table></code></div></div><p><img data-src="/assets/img/custom/use-jooq-in-spring-boot/erd.JPG" alt="erd" data-proofer-ignore></p><p>테이블을 생성했다면 spring datasource를 정의합니다. 만약 방언을 지정하지 않는다면 <code class="language-plaintext highlighter-rouge">DEFAULT</code> 를 사용합니다.</p><div class="language-properties highlighter-rouge"><div class="code-header"> <span data-label-text="Properties"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="py">spring.datasource.url</span><span class="p">=</span><span class="s">jdbc:postgresql://localhost:5432/jooq</span>
<span class="py">spring.datasource.username</span><span class="p">=</span><span class="s">username</span>
<span class="py">spring.datasource.password</span><span class="p">=</span><span class="s">password</span>
<span class="py">spring.datasource.driver-class-name</span><span class="p">=</span><span class="s">org.postgresql.Driver</span>
<span class="py">spring.jooq.sql-dialect</span><span class="p">=</span> <span class="s">postgres</span>

<span class="py">logging.level.org.jooq.tools.LoggerListener</span><span class="p">=</span><span class="s">DEBUG</span>
</pre></table></code></div></div><p>이제 maven 플러그인을 통해 생성한 테이블을 기반으로 자바 클래스를 생성할 것입니다.</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre><td class="rouge-code"><pre><span class="nt">&lt;plugin&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.codehaus.mojo<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>properties-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.1.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;executions&gt;</span>
        <span class="nt">&lt;execution&gt;</span>
            <span class="nt">&lt;phase&gt;</span>initialize<span class="nt">&lt;/phase&gt;</span>
            <span class="nt">&lt;goals&gt;</span>
                <span class="nt">&lt;goal&gt;</span>read-project-properties<span class="nt">&lt;/goal&gt;</span>
            <span class="nt">&lt;/goals&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="nt">&lt;files&gt;</span>
                    <span class="nt">&lt;file&gt;</span>src/main/resources/application.properties<span class="nt">&lt;/file&gt;</span>
                <span class="nt">&lt;/files&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/execution&gt;</span>
    <span class="nt">&lt;/executions&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
<span class="nt">&lt;plugin&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.jooq<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jooq-codegen-maven<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;executions&gt;</span>
        <span class="nt">&lt;execution&gt;</span>
            <span class="nt">&lt;id&gt;</span>generate-postgres<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;phase&gt;</span>generate-sources<span class="nt">&lt;/phase&gt;</span>
            <span class="nt">&lt;goals&gt;</span>
                <span class="nt">&lt;goal&gt;</span>generate<span class="nt">&lt;/goal&gt;</span>
            <span class="nt">&lt;/goals&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="c">&lt;!-- JDBC connection parameters --&gt;</span>
                <span class="nt">&lt;jdbc&gt;</span>
                    <span class="nt">&lt;url&gt;</span>${spring.datasource.url}<span class="nt">&lt;/url&gt;</span>
                    <span class="nt">&lt;user&gt;</span>${spring.datasource.username}<span class="nt">&lt;/user&gt;</span>
                    <span class="nt">&lt;password&gt;</span>${spring.datasource.password}<span class="nt">&lt;/password&gt;</span>
                    <span class="nt">&lt;driver&gt;</span>${spring.datasource.driver-class-name}<span class="nt">&lt;/driver&gt;</span>
                <span class="nt">&lt;/jdbc&gt;</span>
                <span class="c">&lt;!-- Generator parameters --&gt;</span>
                <span class="nt">&lt;generator&gt;</span>
                    <span class="nt">&lt;database&gt;</span>
                        <span class="nt">&lt;name&gt;</span>
                            org.jooq.meta.postgres.PostgresDatabase
                        <span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;includes&gt;</span>.*<span class="nt">&lt;/includes&gt;</span>
                        <span class="nt">&lt;excludes/&gt;</span>
                        <span class="nt">&lt;inputSchema&gt;</span>public<span class="nt">&lt;/inputSchema&gt;</span>
                        <span class="nt">&lt;includeSystemSequences&gt;</span>true<span class="nt">&lt;/includeSystemSequences&gt;</span>
                    <span class="nt">&lt;/database&gt;</span>
                    <span class="nt">&lt;generate&gt;</span>
                        <span class="nt">&lt;pojos&gt;</span>true<span class="nt">&lt;/pojos&gt;</span>
                        <span class="nt">&lt;pojosEqualsAndHashCode&gt;</span>true<span class="nt">&lt;/pojosEqualsAndHashCode&gt;</span>
                        <span class="nt">&lt;javaTimeTypes&gt;</span>true<span class="nt">&lt;/javaTimeTypes&gt;</span>
                        <span class="nt">&lt;fluentSetters&gt;</span>true<span class="nt">&lt;/fluentSetters&gt;</span>
                        <span class="nt">&lt;sequences&gt;</span>true<span class="nt">&lt;/sequences&gt;</span>
                    <span class="nt">&lt;/generate&gt;</span>
                    <span class="nt">&lt;target&gt;</span>
                        <span class="nt">&lt;packageName&gt;</span>com.keencho.jooq.model<span class="nt">&lt;/packageName&gt;</span>
                        <span class="nt">&lt;directory&gt;</span>target/generated-sources/jooq<span class="nt">&lt;/directory&gt;</span>
                    <span class="nt">&lt;/target&gt;</span>
                <span class="nt">&lt;/generator&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/execution&gt;</span>
    <span class="nt">&lt;/executions&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</pre></table></code></div></div><p>프로퍼티 파일에 접근하기 위해 <code class="language-plaintext highlighter-rouge">properties-maven-plugin</code>을 사용합니다. <code class="language-plaintext highlighter-rouge">jooq-codegen-maven</code> 플러그인을 사용하며 설정에 jdbc 정보, db명, 옵션, 타겟 패키지, 타겟 디렉토리 등 필요한 정보들을 입력합니다.</p><p>필요한 정보를 모두 입력 했다면 <code class="language-plaintext highlighter-rouge">mvn clean generate-sources</code> 명령을 수행합니다. 아래처럼 클래스가 생성되었다면 성공입니다.</p><p><img data-src="/assets/img/custom/use-jooq-in-spring-boot/generate-source-1.JPG" alt="generate-source-1" data-proofer-ignore></p><h2 id="2-코드작성"><span class="mr-2"><strong>2. 코드작성</strong></span><a href="#2-코드작성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="1-전처리"><span class="mr-2"><strong>1. 전처리</strong></span><a href="#1-전처리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>테스트 수행 전에 테이블을 초기화하고 새로운 값을 넣는 전처리 코드입니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
</pre><td class="rouge-code"><pre>
<span class="nd">@Autowired</span>
<span class="nc">DSLContext</span> <span class="n">dslContext</span><span class="o">;</span>

<span class="nd">@BeforeAll</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// author</span>
    <span class="n">dslContext</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
    <span class="n">dslContext</span><span class="o">.</span><span class="na">alterSequence</span><span class="o">(</span><span class="no">AUTHOR_ID_SEQ</span><span class="o">).</span><span class="na">restart</span><span class="o">().</span><span class="na">execute</span><span class="o">();</span>
    <span class="n">dslContext</span>
            <span class="o">.</span><span class="na">insertInto</span><span class="o">(</span>
                    <span class="no">AUTHOR</span><span class="o">,</span>
                    <span class="no">AUTHOR</span><span class="o">.</span><span class="na">FIRST_NAME</span><span class="o">,</span>
                    <span class="no">AUTHOR</span><span class="o">.</span><span class="na">LAST_NAME</span>
            <span class="o">)</span>
            <span class="o">.</span><span class="na">valuesOfRows</span><span class="o">(</span>
                    <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"홍길동"</span><span class="o">,</span> <span class="s">"김철수"</span><span class="o">,</span> <span class="s">"박영희"</span><span class="o">).</span><span class="na">map</span><span class="o">(</span><span class="n">name</span> <span class="o">-&gt;</span> <span class="no">DSL</span><span class="o">.</span><span class="na">row</span><span class="o">(</span>
                            <span class="n">name</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span>
                            <span class="n">name</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span>
                    <span class="o">)).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">())</span>
            <span class="o">)</span>
            <span class="o">.</span><span class="na">execute</span><span class="o">();</span>

    <span class="c1">// book</span>
    <span class="n">dslContext</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="no">BOOK</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
    <span class="n">dslContext</span><span class="o">.</span><span class="na">alterSequence</span><span class="o">(</span><span class="no">BOOK_ID_SEQ</span><span class="o">).</span><span class="na">restart</span><span class="o">().</span><span class="na">execute</span><span class="o">();</span>
    <span class="n">dslContext</span>
            <span class="o">.</span><span class="na">insertInto</span><span class="o">(</span>
                    <span class="no">BOOK</span><span class="o">,</span>
                    <span class="no">BOOK</span><span class="o">.</span><span class="na">TITLE</span>
            <span class="o">)</span>
            <span class="o">.</span><span class="na">valuesOfRows</span><span class="o">(</span>
                    <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
                            <span class="s">"이펙티브 자바"</span><span class="o">,</span> <span class="s">"리팩토링"</span><span class="o">,</span> <span class="s">"DDD START!"</span><span class="o">,</span> <span class="s">"토비의 스프링3"</span><span class="o">,</span>
                                    <span class="s">"Do it! 점프 투 파이썬"</span><span class="o">,</span> <span class="s">"혼자 공부하는 머신러닝+딥러닝"</span><span class="o">,</span> <span class="s">"개발자를 위한 챗GPT 활용법"</span><span class="o">,</span>
                                    <span class="s">"C언어로 쉽게 풀어쓴 자료구조"</span><span class="o">,</span> <span class="s">"비전공자도 이해할 수 있는 AI 지식"</span><span class="o">,</span> <span class="s">"모던 자바스크립트 Deep Dive"</span>
                                    <span class="o">)</span>
                            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">DSL:</span><span class="o">:</span><span class="n">row</span><span class="o">)</span>
                            <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">())</span>
            <span class="o">)</span>
            <span class="o">.</span><span class="na">execute</span><span class="o">();</span>

    <span class="kt">var</span> <span class="n">rand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span>
    <span class="kt">var</span> <span class="n">authorList</span> <span class="o">=</span> <span class="n">dslContext</span><span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">).</span><span class="na">fetch</span><span class="o">();</span>
    <span class="kt">var</span> <span class="n">bookList</span> <span class="o">=</span> <span class="n">dslContext</span><span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="no">BOOK</span><span class="o">).</span><span class="na">fetch</span><span class="o">();</span>

    <span class="n">bookList</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">book</span> <span class="o">-&gt;</span> <span class="n">dslContext</span>
            <span class="o">.</span><span class="na">insertInto</span><span class="o">(</span>
                    <span class="no">AUTHOR_BOOK</span><span class="o">,</span>
                    <span class="no">AUTHOR_BOOK</span><span class="o">.</span><span class="na">AUTHOR_ID</span><span class="o">,</span>
                    <span class="no">AUTHOR_BOOK</span><span class="o">.</span><span class="na">BOOK_ID</span>
            <span class="o">)</span>
            <span class="o">.</span><span class="na">valuesOfRows</span><span class="o">(</span>
                    <span class="no">DSL</span><span class="o">.</span><span class="na">row</span><span class="o">(</span>
                            <span class="n">authorList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">rand</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">authorList</span><span class="o">.</span><span class="na">size</span><span class="o">())).</span><span class="na">get</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">.</span><span class="na">ID</span><span class="o">),</span>
                            <span class="n">book</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="no">BOOK</span><span class="o">.</span><span class="na">ID</span><span class="o">)</span>
                    <span class="o">)</span>
            <span class="o">)</span>
            <span class="o">.</span><span class="na">execute</span><span class="o">()</span>
    <span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><ol><li><code class="language-plaintext highlighter-rouge">author</code>, <code class="language-plaintext highlighter-rouge">book</code>, <code class="language-plaintext highlighter-rouge">author_book</code> 테이블의 모든 row를 <code class="language-plaintext highlighter-rouge">dslContext.delete(TABLE).excute()</code> 메소드로 삭제합니다.<li>시퀀스가 존재하는 <code class="language-plaintext highlighter-rouge">author</code>, <code class="language-plaintext highlighter-rouge">book</code> 테이블의 경우 <code class="language-plaintext highlighter-rouge">dslContext.alterSequence(SEQUENCE).restart().execute()</code> 메소드를 통해 시퀀스를 초기화 합니다.<li>각 테이블에 데이터를 삽입합니다.</ol><p>참고로 <code class="language-plaintext highlighter-rouge">dslContext</code>의 경우 <code class="language-plaintext highlighter-rouge">spring.datasource</code>를 올바르게 정의하였다면 <code class="language-plaintext highlighter-rouge">JooqAutoConfiguration</code> 클래스에 의해 자동으로 bean으로 등록되어 사용할 수 있게 됩니다.</p><p><img data-src="/assets/img/custom/use-jooq-in-spring-boot/jooq-auto-configuration.JPG" alt="jooq-auto-configuration" data-proofer-ignore></p><h3 id="2-조회후-custom-class로-결과-반환"><span class="mr-2"><strong>2. 조회후 custom class로 결과 반환</strong></span><a href="#2-조회후-custom-class로-결과-반환" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">b</span><span class="p">.</span><span class="n">title</span><span class="p">,</span> <span class="n">concat</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">first_name</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">last_name</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">author_book</span> <span class="n">ab</span>
         <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">author</span> <span class="n">a</span> <span class="k">ON</span> <span class="n">ab</span><span class="p">.</span><span class="n">author_id</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">id</span>
         <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">book</span> <span class="n">b</span> <span class="k">ON</span> <span class="n">ab</span><span class="p">.</span><span class="n">book_id</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">id</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="s1">'홍'</span><span class="p">;</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kd">class</span> <span class="nc">Projection</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">author</span><span class="o">;</span>
    <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">fetchIntoCustomClass</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">var</span> <span class="n">list</span> <span class="o">=</span> <span class="n">dslContext</span>
            <span class="o">.</span><span class="na">select</span><span class="o">(</span>
                    <span class="no">BOOK</span><span class="o">.</span><span class="na">TITLE</span><span class="o">,</span>
                    <span class="no">AUTHOR</span><span class="o">.</span><span class="na">FIRST_NAME</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">.</span><span class="na">LAST_NAME</span><span class="o">).</span><span class="na">as</span><span class="o">(</span><span class="s">"author"</span><span class="o">)</span>
            <span class="o">)</span>
            <span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="no">AUTHOR_BOOK</span><span class="o">)</span>
            <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">.</span><span class="na">ID</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="no">AUTHOR_BOOK</span><span class="o">.</span><span class="na">AUTHOR_ID</span><span class="o">))</span>
            <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="no">BOOK</span><span class="o">).</span><span class="na">on</span><span class="o">(</span><span class="no">BOOK</span><span class="o">.</span><span class="na">ID</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="no">AUTHOR_BOOK</span><span class="o">.</span><span class="na">BOOK_ID</span><span class="o">))</span>
            <span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">.</span><span class="na">FIRST_NAME</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">"홍"</span><span class="o">))</span>
            <span class="o">.</span><span class="na">fetchInto</span><span class="o">(</span><span class="nc">Projection</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">allMatch</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="nc">StringUtils</span><span class="o">.</span><span class="na">hasText</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">title</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">item</span><span class="o">.</span><span class="na">author</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="sc">'홍'</span><span class="o">));</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>select
  "public"."book"."title",
  ("public"."author"."first_name" || "public"."author"."last_name") as "author"
from "public"."author_book"
  left outer join "public"."author"
    on "public"."author"."id" = "public"."author_book"."author_id"
  left outer join "public"."book"
    on "public"."book"."id" = "public"."author_book"."book_id"
where "public"."author"."first_name" = '홍'

org.jooq.tools.LoggerListener - Fetched result           : +-------------------+------+
org.jooq.tools.LoggerListener -                          : |title              |author|
org.jooq.tools.LoggerListener -                          : +-------------------+------+
org.jooq.tools.LoggerListener -                          : |토비의 스프링3           |홍길동   |
org.jooq.tools.LoggerListener -                          : |Do it! 점프 투 파이썬    |홍길동   |
org.jooq.tools.LoggerListener -                          : |C언어로 쉽게 풀어쓴 자료구조   |홍길동   |
org.jooq.tools.LoggerListener -                          : |모던 자바스크립트 Deep Dive|홍길동   |
org.jooq.tools.LoggerListener -                          : +-------------------+------+
org.jooq.tools.LoggerListener - Fetched row(s)           : 4
</pre></table></code></div></div><p>결과가 잘 반환된 것을 확인할 수 있습니다. alias로 필드명을 지정하면 해당 필드에 값이 할당되는 것까지 마음에 드네요.</p><h3 id="3-update"><span class="mr-2"><strong>3. update</strong></span><a href="#3-update" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">UPDATE</span> <span class="n">author</span>
<span class="k">SET</span> <span class="n">first_name</span> <span class="o">=</span> <span class="s1">'성'</span>
<span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1</span>
   <span class="k">or</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">var</span> <span class="n">condition</span> <span class="o">=</span> <span class="no">AUTHOR</span><span class="o">.</span><span class="na">ID</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">or</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">.</span><span class="na">ID</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="mi">2</span><span class="o">));</span>
    <span class="n">dslContext</span>
            <span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">)</span>
            <span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">.</span><span class="na">FIRST_NAME</span><span class="o">,</span> <span class="s">"성"</span><span class="o">)</span>
            <span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">condition</span><span class="o">)</span>
            <span class="o">.</span><span class="na">execute</span><span class="o">();</span>

    <span class="kt">var</span> <span class="n">list</span> <span class="o">=</span> <span class="n">dslContext</span><span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="n">condition</span><span class="o">).</span><span class="na">fetchInto</span><span class="o">(</span><span class="nc">Author</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">allMatch</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">getFirstName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"성"</span><span class="o">)));</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>update "public"."author"
set
  "first_name" = '성'
where (
  "public"."author"."id" = 1
  or "public"."author"."id" = 2
)
org.jooq.tools.LoggerListener - Affected row(s)          : 2

select "public"."author"."id", "public"."author"."first_name", "public"."author"."last_name"
from "public"."author"
where (
  "public"."author"."id" = 1
  or "public"."author"."id" = 2
)
org.jooq.tools.LoggerListener - Fetched result           : +----+----------+---------+
org.jooq.tools.LoggerListener -                          : |  id|first_name|last_name|
org.jooq.tools.LoggerListener -                          : +----+----------+---------+
org.jooq.tools.LoggerListener -                          : |   1|성         |길동       |
org.jooq.tools.LoggerListener -                          : |   2|성         |철수       |
org.jooq.tools.LoggerListener -                          : +----+----------+---------+
org.jooq.tools.LoggerListener - Fetched row(s)           : 2
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">author</code> 테이블의 id가 1 혹은 2인 row의 first_name을 ‘성’ 으로 변경하는 쿼리를 수행하였고 작업이 정상적으로 수행되었습니다.</p><h3 id="4-delete"><span class="mr-2"><strong>4. delete</strong></span><a href="#4-delete" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">DELETE</span>
<span class="k">FROM</span> <span class="n">author</span>
<span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">delete</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">dslContext</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">.</span><span class="na">ID</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="mi">1</span><span class="o">)).</span><span class="na">execute</span><span class="o">();</span>

    <span class="kt">var</span> <span class="n">authorList</span> <span class="o">=</span> <span class="n">dslContext</span><span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="no">AUTHOR</span><span class="o">).</span><span class="na">fetchInto</span><span class="o">(</span><span class="nc">Author</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kt">var</span> <span class="n">authorBookList</span> <span class="o">=</span> <span class="n">dslContext</span><span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="no">AUTHOR_BOOK</span><span class="o">).</span><span class="na">fetchInto</span><span class="o">(</span><span class="nc">AuthorBook</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">authorList</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">noneMatch</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">));</span>
    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">authorBookList</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">noneMatch</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">getAuthorId</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">));</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>delete from "public"."author"
where "public"."author"."id" = 1
org.jooq.tools.LoggerListener - Affected row(s)          : 1

select "public"."author"."id", "public"."author"."first_name", "public"."author"."last_name"
from "public"."author"
org.jooq.tools.LoggerListener - Fetched result           : +----+----------+---------+
org.jooq.tools.LoggerListener -                          : |  id|first_name|last_name|
org.jooq.tools.LoggerListener -                          : +----+----------+---------+
org.jooq.tools.LoggerListener -                          : |   2|김         |철수       |
org.jooq.tools.LoggerListener -                          : |   3|박         |영희       |
org.jooq.tools.LoggerListener -                          : +----+----------+---------+
org.jooq.tools.LoggerListener - Fetched row(s)           : 2

select "public"."author_book"."author_id", "public"."author_book"."book_id"
from "public"."author_book"
org.jooq.tools.LoggerListener - Fetched result           : +---------+-------+
org.jooq.tools.LoggerListener -                          : |author_id|book_id|
org.jooq.tools.LoggerListener -                          : +---------+-------+
org.jooq.tools.LoggerListener -                          : |        3|      1|
org.jooq.tools.LoggerListener -                          : |        3|      2|
org.jooq.tools.LoggerListener -                          : |        2|      4|
org.jooq.tools.LoggerListener -                          : |        2|      5|
org.jooq.tools.LoggerListener -                          : |        3|      7|
org.jooq.tools.LoggerListener -                          : +---------+-------+
org.jooq.tools.LoggerListener - Fetched row(s)           : 5 (or more)
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">author</code> 테이블의 id가 1인 row를 삭제하였고 <code class="language-plaintext highlighter-rouge">author</code>, <code class="language-plaintext highlighter-rouge">author_book</code> 테이블의 row가 삭제된것을 확인할 수 있습니다.</p><h3 id="번외daoimpl"><span class="mr-2"><strong>번외(DAOImpl)</strong></span><a href="#번외daoimpl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>JOOQ는 중복되는 불필요한 코드를 줄이기 위해 생성된 <a href="https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DAOImpl.html">DAO에 대한 기본 구현체</a>들을 제공합니다. 스프링 환경에서는 <code class="language-plaintext highlighter-rouge">AbstractSpringDAOImpl</code> 클래스를 상속한 DAO를 주입받아 사용할 수 있으며 이 DAO 클래스는 <code class="language-plaintext highlighter-rouge">jooq-codegen-maven</code> 플러그인에 설정값을 추가하는것으로 쉽게 생성할 수 있습니다.</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="nt">&lt;generate&gt;</span>
    <span class="nt">&lt;pojos&gt;</span>true<span class="nt">&lt;/pojos&gt;</span>
    <span class="nt">&lt;pojosEqualsAndHashCode&gt;</span>true<span class="nt">&lt;/pojosEqualsAndHashCode&gt;</span>
    <span class="nt">&lt;javaTimeTypes&gt;</span>true<span class="nt">&lt;/javaTimeTypes&gt;</span>
    <span class="nt">&lt;fluentSetters&gt;</span>true<span class="nt">&lt;/fluentSetters&gt;</span>
    <span class="nt">&lt;sequences&gt;</span>true<span class="nt">&lt;/sequences&gt;</span>

    <span class="c">&lt;!-- for spring--&gt;</span>
    <span class="nt">&lt;daos&gt;</span>true<span class="nt">&lt;/daos&gt;</span>
    <span class="nt">&lt;springDao&gt;</span>true<span class="nt">&lt;/springDao&gt;</span>
    <span class="nt">&lt;springAnnotations&gt;</span>true<span class="nt">&lt;/springAnnotations&gt;</span>
<span class="nt">&lt;/generate&gt;</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">doas</code>, <code class="language-plaintext highlighter-rouge">spirngDao</code>, <code class="language-plaintext highlighter-rouge">springAnnotations</code> 세개의 설정값을 추가하였습니다. 설정값을 추가했다면 코드를 생성하고 관련 클래스들이 생성되었는지 확인합니다.</p><p><img data-src="/assets/img/custom/use-jooq-in-spring-boot/generate-source-2.JPG" alt="generate-source-2" data-proofer-ignore></p><p>그럼 이제 생성된 DAO들을 주입받고 사용할 수 있습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="nd">@Autowired</span>
<span class="nc">AuthorDao</span> <span class="n">authorDao</span><span class="o">;</span>

<span class="nd">@Autowired</span>
<span class="nc">AuthorBookDao</span> <span class="n">authorBookDao</span><span class="o">;</span>

<span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">select</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">var</span> <span class="n">list</span> <span class="o">=</span> <span class="n">authorDao</span><span class="o">.</span><span class="na">fetch</span><span class="o">(</span><span class="nc">Tables</span><span class="o">.</span><span class="na">AUTHOR</span><span class="o">.</span><span class="na">FIRST_NAME</span><span class="o">,</span> <span class="s">"홍"</span><span class="o">);</span>

    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">allMatch</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">getFirstName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"홍"</span><span class="o">)));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">authorDao</span><span class="o">.</span><span class="na">update</span><span class="o">(</span>
            <span class="n">authorDao</span>
                    <span class="o">.</span><span class="na">fetchRangeOfId</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">stream</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"성"</span><span class="o">))</span>
                    <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">())</span>
    <span class="o">);</span>

    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">authorDao</span><span class="o">.</span><span class="na">fetchRangeOfId</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">).</span><span class="na">stream</span><span class="o">().</span><span class="na">allMatch</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">getFirstName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"성"</span><span class="o">)));</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">delete</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">authorDao</span><span class="o">.</span><span class="na">deleteById</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertFalse</span><span class="o">(</span><span class="n">authorDao</span><span class="o">.</span><span class="na">existsById</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
    <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">authorBookDao</span><span class="o">.</span><span class="na">fetchByAuthorId</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">isEmpty</span><span class="o">());</span>
<span class="o">}</span>
</pre></table></code></div></div><p>확실히 코드가 줄긴 했습니다. 다만 그냥 <code class="language-plaintext highlighter-rouge">dslContext</code>를 사용하는 것에 비해 많은 기능(메소드)들이 제거되어 있습니다. 따라서 간단한 쿼리정도에만 사용하고 나머지는 <code class="language-plaintext highlighter-rouge">dslContext</code>를 그대로 사용하는게 좋아 보입니다.</p><h1 id="결론"><strong>결론</strong></h1><p>JOOQ에 대해 살펴 보았습니다. 위에서 살펴본 예제는 정말 간단한 CRUD만 테스트 해본 것으로 실제 JOOQ는 보다 많은 DB의 기능을 지원합니다. 또한 문서가 매우 잘되어 있어서 처음 시작하시는 분들도 최소한의 삽질로 사용해 보실 수 있을것 같습니다. 만약 ORM을 사용하지 않고 SQL Mapper 기반의 어플리케이션을 개발중이시거나 기존의 Querydsl에 익숙하신 분들이라면 JOOQ를 사용해 보시는게 어떨까요?</p><ul><li>유저 매뉴얼: <a href="https://www.jooq.org/doc/latest/manual">https://www.jooq.org/doc/latest/manual</a><li>포스팅에 사용된 코드: <a href="https://github.com/keencho/java-sandbox/tree/master/blog-example-code/use-jooq-in-spring-boot">https://github.com/keencho/java-sandbox/tree/master/blog-example-code/use-jooq-in-spring-boot</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/jooq/'>JOOQ</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/jooq/" class="post-tag no-text-decoration" >JOOQ</a> <a href="/tags/spring-boot/" class="post-tag no-text-decoration" >Spring Boot</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=JOOQ+%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0+-+keencho%27s+blog&url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fjooq%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=JOOQ+%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0+-+keencho%27s+blog&u=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fjooq%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fkeencho.github.io%2Fposts%2Fjooq%2F&text=JOOQ+%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0+-+keencho%27s+blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-flush/">JPA & Hibernate Flush Mode</a><li><a href="/posts/aws-cicd-1/">AWS를 사용해 무중단 배포 자동화 환경 구축하기 - 1. 개요</a><li><a href="/posts/terraform-aws-infra-6/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 6. 운영환경 (백엔드)</a><li><a href="/posts/aapt2-arm/">Arm 아키텍처에서 AAPT2 빌드 도구 사용하기</a><li><a href="/posts/terraform-aws-infra-1/">Terraform으로 AWS 무중단 배포 인프라 구성하기 - 1. 개요</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/transactional-think/"><div class="card-body"> <em class="small" data-ts="1751022720" data-df="ll" > Jun 27, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JPA Transactional 점검하기</h3><div class="text-muted small"><p> JPA Transactional 점검하기 JPA를 다루는 개발자라면 Transactional의 동작 원리를 정확히 이해해야 한다. 하지만 솔직히 말하면, 프로젝트 초기에 세운 가이드라인을 처음에는 잘 지켰지만 개발이 진행되면서 점점 일단 @Transactional 붙이고 보자는 식으로 습관적으로 사용했던 적이 많다. 당연히 이런 무분별한 사용은 여러 ...</p></div></div></a></div><div class="card"> <a href="/posts/aws-alb-static-ip/"><div class="card-body"> <em class="small" data-ts="1744456320" data-df="ll" > Apr 12, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Application Load Balancer에 고정 IP 사용하기 (feat. VPC IPAM 통합)</h3><div class="text-muted small"><p> Application Load Balancer에 고정 IP 사용하기 (feat. VPC IPAM 통합) aws 콘솔 보다가 이런걸 발견했다. 궁금해서 찾아보니까 이런 글을 확인할 수 있었다. (마참내!) ALB에 고정IP를 사용하려고 앞에 NLB 붙이기, 프록시 서버 사용하기, Global Accelerator과 통합하기, Lambda 사용하기...</p></div></div></a></div><div class="card"> <a href="/posts/aws-fargate-dynamic-operation/"><div class="card-body"> <em class="small" data-ts="1734131520" data-df="ll" > Dec 14, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>야간 및 주말에 AWS Fargate 동적으로 운영하기</h3><div class="text-muted small"><p> 야간 및 주말에 AWS Fargate 동적으로 운영하기 사내에서만 사용하는 관리자(관제) 서비스가 있다. 아주 가끔 업무 시간외에 쓸일이 있긴 하지만 대부분의 경우 평일 21시 ~ 08시, 주말에는 전혀 사용하지 않는다. 클라우드의 장점중 필요한 만큼만 사용, 필요할 때만 사용을 중요한 장점으로 생각한다. 그래서 이 기회에 AWS Fargate 를 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/web-workers/" class="btn btn-outline-primary" prompt="Older"><p>Web Worker</p></a> <a href="/posts/java-concurrency-programming/" class="btn btn-outline-primary" prompt="Newer"><p>자바 동시성 프로그래밍 - 메모리 모델과 동기화부터 고급 기법까지</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/keencho">keencho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/hibernate/">Hibernate</a> <a class="post-tag" href="/tags/ecs/">ECS</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/querydsl/">QueryDSL</a> <a class="post-tag" href="/tags/react/">React</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
